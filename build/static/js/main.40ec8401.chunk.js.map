{"version":3,"sources":["title.svg","redux.js","lght/util/util.js","lght/lght.js","webView.js","mobileView.js","view.js","controller.js","Page/Game.js","Page/Join.js","Page/Landing.js","App.js","serviceWorker.js","index.js","polygon.svg","9.svg","api.js"],"names":["module","exports","createStore","require","token","localStorage","getItem","defaultState","id","playerid","parseInt","tempJoinID","joined","loggedIn","Store","state","type","tempJoinId","setItem","removeItem","console","log","mergeDefaultPropertyObject","p","d","o","prop","_","cloneDeep","findDistance2Point","x1","y1","x2","y2","Math","sqrt","pow","findAngle2Point","dx","dy","tan","atan","radToDeg","rad","PI","degToRad","deg","rotatePoint","cx","cy","x","y","calculateRotatePoint","r","angleIndex","indexOf","coeff","cos","sin","findIntersection","s1","s2","x11","y11","x12","y12","x21","y21","x22","y22","round","minX1","min","maxX1","max","minX2","maxX2","slope1","slope2","coeff1","findClosestPoint","s","angle","abs","findAngle3Point","d1","d2","changeByDotNotation","propertyString","object","value","propertyArray","split","objectLink","forEach","e","i","length","Array","isArray","getByDotNotation","lght","inputReference","movementIndex","coeffIndex","defaultAppConfig","initFunctions","animateFunctions","lastFrame","undefined","constantRender","background","pixelDensity","eventListeners","eventListenersFunction","defaultObjectProps","shapes","animations","hoverEvents","animationCount","static","rotation","positionIndicator","display","opacity","mouseUpEvent","mouseDownEvent","mouseMoveEvent","zIndex","defaultStorageProps","spacing","direction","model","defaultShapeOptions","kind","scaleX","scaleY","color","lineWidth","borderColor","borderWidth","border","borderOnly","shadow","defaultRectOptions","w","h","clip","clipImageLink","clipCanvas","clipSpriteSheetX","clipSpriteSheetY","spriteLengthX","spriteLengthY","defaultArcOptions","arcDegree","defaultTextOptions","textAlign","font","text","defaultImgOptions","spriteLink","drawWidth","drawHeight","loadedFunction","defaultPolyOptions","points","specialPolygon","numberOfSide","radius","defaultLineOptions","apps","gameloop","list","frameTime","loop","time","requestAnimationFrame","app","elem","options","this","canvas","objects","index","push","turnFunctions","prototype","obj","addEventListener","event","func","removeEventListenr","removeEventListener","kill","f","killed","splice","update","translateMouseCoor","pageX","pageY","clientX","document","body","scrollLeft","documentElement","scrollTop","parentElement","style","position","offsetLeft","offsetTop","objectCount","property","parent","name","objectName","collide","pointInShape","xs","ys","findMax","minX","maxX","minY","maxY","storage","storageShapes","elementFunction","updateToModel","shape","reverse","width","firstX","content","height","firstY","updateVisual","spriteLinkReference","spriteImageReference","funcLists","sprite","link","image","complete","Image","onload","src","sound","createElement","oncanplaythrough","loaded","updateQueue","volume","setAttribute","appendChild","queue","running","mute","play","setTimeout","duration","audioReference","audioLinkReference","playSound","addToQueue","stopAll","from","getElementsByTagName","pause","muteAll","unmuteAll","vertex","findVertex","offsetMinX","borderWidthIfBorderIsOn","offsetMaxX","offsetMinY","offsetMaxY","shadowOffsetMinX","blur","shadowOffsetMaxX","shadowOffsetMinY","shadowOffsetMaxY","offsetX","offsetY","sides","findSides","compareSide","intersect","result","maxY1","minY1","maxY2","minY2","side1","side2","hasBorder","rect","rx","ry","nx","absoluteX","ny","absoluteY","arc","minAngle","maxAngle","minRadAngle","maxRadAngle","referenceX","referenceY","vertex1","vertex2","pureCircle","ray1","ray2","side","closest","roundedRectangle","borderRadius","clipImage","imageUrl","poly","polyPoints","map","radiusCoefficient","line","notIncluded","point","rotatedPoints","distance","angleQuadrant","firstDistance","pointOneInFirstQuadrant","pointSecondInSecondQuadrant","pointThreeInThirdQuadrant","pointFourInFourthQuadrant","c","context","save","measureText","restore","textSize","img","imageLoaded","attachQuickMovement","velocity","cooldown","cd","key","startCursor","cursor","endCursor","enterCursorEvent","alreadyCursorEvent","hoverEvent","attachEvent","trueEvent","window","mobileCheck","changedTouches","touch","mouseInputInit","handleCoor","pointInObject","LargeLoop","a","pressedEvent","makeDraggable","funcDone","onDrag","draggable","funcin","funcout","mouseIn","animate","timeDifference","animateFunctionReference","animation","init","timeUp","newValue","addAnimation","timeout","cancelAnimation","alreadyAnimated","find","findIndex","clearTimeout","arguments","render","clearCanvas","fillBackground","renderShape","visualInit","backgroundColor","getContext","renderPositions","sort","b","draw","clearRect","fillStyle","fillRect","beginPath","closePath","fill","preloader","maxes","createPreloader","clearPreloader","ox","oy","drawShape","drawPreloader","translate","drawImg","drawShapeKind","stroke","globalAlpha","strokeStyle","scale","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawRect","drawArc","drawText","drawPoly","drawLine","drawRoundedRectangle","clipImageLoaded","rotate","spriteWidth","spriteHeight","clipStartX","clipStartY","drawImage","strokeRect","moveTo","lineTo","quadraticCurveTo","br","er","fillText","addShape","addObject","addStorage","removeObject","webView","ref","ref2","ref3","drawSoundIcon","soundIcon","soundOn","soundOff","animatePlayerPlay","Promise","addToAnimationQueue","positionReference","playerDeck","animatePlayerDraw","animateLeaderboardDraw","leaderBoard","animateLeaderboardPlay","drawSpecialInfo","specialInfo","playDeck","colors","textColor","activateInfo","tc","toUpperCase","join","cancelInfo","animateDraw","endX","endY","card","createCard","drawDeck","animatePlay","startX","startY","match","drawColorChoser","choosingColor","resolveFunction","colorChooser","chooseColor","staticApp","cardSpriteColumn","cardSpriteRow","cardSpriteReference","wild","Draw4","colorReference","otherReference","handHeight","drawable","createDeck","flip","awaitDraw","cancelDraw","createHand","createLeaderboard","drawAnnouncement","configureStartGameMessage","configureUnoMessage","drawEmote","drawAddBot","drawEndGame","initAnimation","endGame","restartText","activateEndGame","tutorial","showTutorial","addBot","startAddBot","cancelAddBot","emoteChooser","emoteText","timeInterval","emote","emoji","clearInterval","animationQueue","animationCallback","animating","updateAnimation","playordraw","px","py","ec","firstFunc","actionFunction","actionalPanel","turnIndicator","updateTurnIndicator","turn","numberOfLoops","fadeOut","fadeIn","cardElement","updateLeaderboard","players","cardsAmount","verifyFunction","onSelect","playerHand","action","slice","offSetY","updateCards","awaitSelection","vf","cancelSelection","deckCardOption","deck","back","flipped","changeToBack","changeClipImage","changeToFront","flipAnimation","announcementQueue","announcmentPerpetual","onAnnouncementPerpetual","onAnnoucementChanged","announcement","annoucementText","fadeOutThenFadeIn","updateAnnouncement","uno","UNO","startGameObject","activated","initiateStartGameMessage","turnOffStartGameMessage","mobileView","cardApp","ratio","devicePixelRatio","clientWidth","screen","innerWidth","clientHeight","innerHeight","createActionPanel","textShapes","timeOut","totalLength","handWidth","left","getElementById","check","navigator","userAgent","vendor","opera","test","substr","View","io","Controller","canvasref","canvasstatic","userid","CopyLink","LeaveGame","canvasSpecial","view","drawTutorial","socket","connect","query","emit","sortHand","hand","newhand","countable","filter","notCountable","sorted","sortDeck","currentTopCard","red","blue","green","yellow","final","verify","color2","action2","m","oldModel","inGame","onTurn","then","newAnnoucements","feed","newDirectives","directives","username","cards","message","addToAnnoucementQueue","code","user","otherinfo","latestDraw","animateToPlayer","animateToLeaderBoard","oldCard","newCard","JSON","stringify","on","RestartGame","drawEmoteChooser","winner","error","changeAnnoucementPerpetual","Game","dispatch","useRef","url","useEffect","current","str","el","select","execCommand","removeChild","cogoToast","success","copyToClipboard","className","alignItems","margin","overflowX","overflowY","top","bottom","Join","changeHistory","useState","loading","setLoading","joinGame","data","maxWidth","fontFamily","Polygon","boxShadow","initialValues","onSubmit","handleSubmit","handleChange","handleBlur","onChange","onBlur","css","create","Checkbox","props","field","form","checked","includes","nextValue","setFieldValue","concat","displayname","Landing","withRouter","history","createGame","houseRule","values","Content","pathname","location","path","exact","component","App","store","Boolean","hostname","ReactDOM","StrictMode","serviceWorker","ready","registration","unregister","catch","baseAPI","baseURL","post"],"mappings":"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","file":"static/js/main.40ec8401.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/title.ad076024.svg\";","const {createStore} = require('redux')\n\nconst token = localStorage.getItem('token')\nconst id = localStorage.getItem('id')\nconst playerid = parseInt(localStorage.getItem('playerid'))\nconst defaultState = {\n    token,id,playerid,tempJoinID:null,joined:false,\n    loggedIn:!!token,\n}\n\nconst reducer = (state=defaultState,{id,playerid,token,type,tempJoinId})=>{\n    switch(type){\n        case 'LOG_IN':\n            localStorage.setItem('token',token)\n            localStorage.setItem('id',id)\n            localStorage.setItem('playerid',playerid)\n            return {...state,id,playerid,token,loggedIn:true}\n        case 'JOIN_LOG_IN':\n            localStorage.setItem('token',token)\n            localStorage.setItem('id',id)\n            localStorage.setItem('playerid',playerid)\n            return {...state,id,playerid,token,loggedIn:true,joined:true}\n        case 'LOG_OUT':\n            localStorage.removeItem('token')\n            localStorage.removeItem('id')\n            localStorage.removeItem('playerid')\n            return {...state,id:null,token:null,playerid:null,loggedIn:false}\n            case 'LOG_OUT_WITH_TEMP_JOIN':\n                localStorage.removeItem('token')\n                localStorage.removeItem('id')\n                localStorage.removeItem('playerid')\n                return {...state,id:null,token:null,playerid:null,loggedIn:false,tempJoinId:state.tempJoinId||tempJoinId}\n        case 'SET_TEMP_JOIN':\n            console.log(tempJoinId)\n            return {...state,tempJoinId}\n        case 'JOINED':\n            return {...state,joined:true}\n        default:\n            return{...state}\n    }\n}\n\nconst Store = createStore(reducer)\n\nexport default Store","import _ from 'lodash'\n\nconst random = (high,low) => {return Math.round(Math.random()*(high-low+1) + low);}\n\t\nconst mergeDefaultPropertyObject = (p,d,o)=>{\n\tfor(var prop in d){\n\t\tif(typeof p == 'object'){\n\t\t\tif(typeof p[prop] === 'function') o[prop] = p[prop]\n\t\t\telse if(typeof p[prop] != 'undefined') o[prop] = _.cloneDeep(p[prop]);\n\t\t\telse o[prop] = _.cloneDeep(d[prop]);\n\t\t}\n\t\telse{\n\t\t\to[prop] = _.cloneDeep(d[prop]);\n\t\t}\n\t}\n}\n\n//<---------------------GEOMETRIC FUNCTION-------------------->\n\nconst findQuadrant = (angle) => {\n\tif(angle < 90 && angle > 0) return 1;\n\tif(angle > 90 && angle < 180) return 2;\n\tif(angle > 180 && angle < 270) return 3;\n\tif(angle > 270 && angle < 360) return 4;\n}\n\nconst findDistance2Point = (x1,y1,x2,y2)=>Math.sqrt(Math.pow((x1-x2),2) + Math.pow((y1-y2),2))\n\n\nconst findAngle2Point = function(x1,y1,x2,y2){\n\t//CHECK SPECIAL CASES\n\tif(x1===x2&&y1===y2) return 0;\n\tif(x1===x2){\n\t\tif(y1 < y2) return 270;\n\t\tif(y1 > y2) return 90;\n\t} \n\tif(y1===y2){\n\t\tif(x1<x2) return 0;\n\t\tif(x2<x1) return 180;\n\t}\n\n\t//FIND QUADRANT\n\tvar dx = x2-x1; var dy = y2-y1;\n\tvar tan = Math.atan((-dy)/dx);\n\n\tif(x1<x2&&y1>y2) return radToDeg(tan);//QUADRANT 1\n\tif(x1>x2&&y1>y2) return\t180 + radToDeg(tan); //QUADRANT 2\n\tif(x1>x2&&y1<y2) return 180 + radToDeg(tan);//QUADRANT 3\n\tif(x1<x2&&y1<y2) return 360 + radToDeg(tan);//QUADRANT 4\n}\n\nconst radToDeg = (rad) => (rad*180)/Math.PI;\n\nconst degToRad = (deg) => (deg*Math.PI)/180;\n\nconst rotatePoint = (cx,cy,x,y,deg) => (deg===0||deg===360)? [x,y]: calculateRotatePoint(cx,cy,findAngle2Point(cx,cy,x,y)+deg,findDistance2Point(cx,cy,x,y));\n\nconst calculateRotatePoint = function(cx,cy,r,d){\n\tconst rad = degToRad(r);\n\n\t//IF IT'S IN SPECIAL CASE\n\tconst angleIndex = [0,90,180,270,360];\n\tconst coeffIndex = [[1,0],[0,1],[-1,0],[0,-1],[1,0]];\n\tif(angleIndex.indexOf(r) !== -1){\n\t\tconst coeff = coeffIndex[angleIndex.indexOf(r)];\n\t\treturn [cx+coeff[0]*d,cy-coeff[1]*d];\n\t}\n\treturn [cx + Math.cos(rad)*d, cy - Math.sin(rad)*d];\n}\n\n\n//<----------------------SEGMENT INTERSECTION, USED FOR OBJECT COLLISION------------------------------>\nlet findIntersection = function(s1,s2){\n\t//FIND CONSTRAINS FOR USE BEFORE INTERSECTION FUNCTION\n\tlet [x11,y11,x12,y12] = s1\n\tlet [x21,y21,x22,y22] = s2\n\tif(Math.round(x11) === Math.round(x12) || Math.round(x21) === Math.round(x22)){\n\t\t[x11,y11] = rotatePoint(0,0,x11,y11,30);\n\t\t[x12,y12] = rotatePoint(0,0,x12,y12,30);\n\t\t[x21,y21] = rotatePoint(0,0,x21,y21,30);\n\t\t[x22,y22] = rotatePoint(0,0,x22,y22,30);\n\t}\n\n\n\tconst minX1 = Math.min(x11,x12); const maxX1 = Math.max(x11,x12);\n\tconst minX2 = Math.min(x21,x22); const maxX2 = Math.max(x21,x22);\n\n\tconst slope1 =(y11-y12)/(x11-x12); \n\tconst slope2 =(y21-y22)/(x21-x22);\n\tconst coeff1 = -(x11*slope1) + y11;\n\tconst coeff2 = -(x21*slope2) + y21;\n\n\tif(slope1===slope2) return false;\n\tconst x = (coeff2 - coeff1)/(slope1 - slope2);\n\tconst y = slope1*x + coeff1;\n\tif(((x>minX1)&&(x<maxX1))&&((x>minX2)&&(x<maxX2))) return [x,y];\n\treturn false;\n}\n\n\n//<--------------------------OTHER SEGMENT FUNCTION------------------------------>\nconst findAngle3Point = (cx,cy,x1,y1,x2,y2) => Math.abs(findAngle2Point(cx,cy,x2,y2) - findAngle2Point(cx,cy,x1,y1))\n\n//FIND THE 'HEIGHT' OF A POINT TO A SEGMENT\nconst findClosestPoint = function(x,y,s){\n\tconst [x1,y1,x2,y2] = s\n\n\tlet angle = findAngle3Point(x1,y1,x,y,x2,y2);\n\tconst d = findDistance2Point(x,y,x1,y1);\n\n\tconst d1 = Math.abs(d*Math.cos(degToRad(angle)));\n\tconst d2 = Math.sqrt(Math.pow(d,2) - Math.pow(d1,2));\n\n\tif(d1 > findDistance2Point(x1,y1,x2,y2)) return false;\n\n\tangle = degToRad(findAngle2Point(x1,y1,x2,y2));\n\tconst xh = x1 + Math.cos(angle) * d1; \n\tconst yh = y1 - Math.sin(angle) * d1;\n\treturn [xh,yh,d2];\n}\n\nconst changeByDotNotation = (propertyString,object,value) => {\n\tconst propertyArray = propertyString.split(\".\")\n\tlet objectLink = object\n\tpropertyArray.forEach((e,i)=>{\n\t\tif (i === propertyArray.length - 1){\n\t\t\tif(Array.isArray(objectLink)) objectLink[parseInt(e)] = value\n\t\t\telse objectLink[e] = value\n\t\t}\n\t\telse{\n\t\t\tif(Array.isArray(objectLink)) objectLink = objectLink[parseInt(e)]\n\t\t\telse objectLink = objectLink[e]\n\t\t}\n\t})\n}\n\nconst getByDotNotation = (propertyString,object)=>{\n\tconst propertyArray = propertyString.split(\".\")\n\tlet value = object\n\tpropertyArray.forEach(e=>{\n\t\tif(Array.isArray(value)) value = value[parseInt(e)]\n\t\telse value=object[e]\n\t})\n\treturn value\n}\n\nexport {findClosestPoint,findAngle3Point,findAngle2Point,findIntersection,calculateRotatePoint,random,\nmergeDefaultPropertyObject,findQuadrant,findDistance2Point,radToDeg,degToRad,rotatePoint,changeByDotNotation,getByDotNotation}","/* eslint-disable no-fallthrough */\n/* eslint-disable no-unused-vars */\n//LIGHT LIBRARY IS DEVELOPED BY LONG TRAN\n//COPYRIGHT 2020, ALL RIGHTS RESERVED\n\nimport {getByDotNotation, changeByDotNotation , mergeDefaultPropertyObject, findDistance2Point, findIntersection, rotatePoint, degToRad, findAngle2Point ,findClosestPoint, calculateRotatePoint, radToDeg} from './util/util'\n\nlet lght = {};\n\n//Config\nlght.inputReference = {};\nlght.inputReference.movementIndex = \n    ['w','a','s','d','ArrowUp','ArrowLeft','ArrowDown','ArrowRight'];\n\nlght.inputReference.coeffIndex = \n    [[0,-1],[-1,0],[0,1],[1,0],[0,-1],[-1,0],[0,1],[1,0]];\n\nlght.defaultAppConfig = {\n    initFunctions:[\"visualInit\",'mouseInputInit'],\n    animateFunctions:[\"animate\",\"update\",\"render\"],\n    lastFrame:undefined,\n    constantRender:true,\n    background:\"black\",\n    pixelDensity:1,\n    eventListeners:[],\n    eventListenersFunction:[]\n}\n\nlght.defaultObjectProps = {\n    shapes:[],\n    animations:[],\n    hoverEvents:[],\n    animationCount:0,\n    initFunctions:[\"createPreloader\"],\n    static:true,\n    x:0,y:0,\n    rotation:0, \n    positionIndicator:false,\n    display:true,opacity:1,\n    mouseUpEvent:[],mouseDownEvent:[],mouseMoveEvent:[],\n    zIndex:0\n}\n\nlght.defaultStorageProps = {\n    spacing:0,\n    direction:'row',\n    model:[]\n}\n\nlght.defaultShapeOptions = {\n    kind:\"rect\",\n    animations:[],\n    hoverEvents:[],\n    animationCount:0,\n    x:0,y:0,rotation:0,scaleX:1,scaleY:1,\n    color:\"black\",display:true,\n    lineWidth:1, opacity:1,\n    borderColor:'yellow',\n    borderWidth:10,\n    border:false, borderOnly:false,\n    shadow:null,mouseUpEvent:[],mouseDownEvent:[],mouseMoveEvent:[]\n}\n\nlght.defaultRectOptions = {\n    w:0,h:0,clip:false,\n    clipImageLink:null,clipCanvas:null,\n    clipSpriteSheetX:null,clipSpriteSheetY:null,\n    spriteLengthX:null,spriteLengthY:null\n}\n\nlght.defaultArcOptions = {\n    rad:0, arcDegree:360,\n}\n\nlght.defaultTextOptions = {\n    textAlign:'left',\n    font:'10px Ariel',\n    text:'Hello World'\n}\n\nlght.defaultImgOptions = {\n    spriteLink:null,\n    drawWidth:null,drawHeight:null,\n    loadedFunction:undefined\n}\n\nlght.defaultPolyOptions = {\n    points:[],\n    specialPolygon:false,\n    numberOfSide:0,\n    radius:10,\n    clip:false,\n    clipImageLink:null\n}\n\nlght.defaultLineOptions = {\n    points:[]\n}\n\n//Main\nlght.apps = [];\n\nlght.gameloop = {\n    list:[],\n    frameTime:undefined,\n    lastFrame:undefined\n};\n\nlght.gameloop.loop = (time)=>{\n    requestAnimationFrame(lght.gameloop.loop);\n\n    for(var i = 0;i<lght.gameloop.list.length;i++){\n        lght.gameloop.list[i](lght.apps[i]);\n    }\n    \n    if(time!==undefined){\n        lght.lastFrame = lght.frameTime;\n        lght.frameTime = time;\n    }\n}\n\n\n\nlght.gameloop.loop();\n\nlght.app = function(elem,options) {\n\n    this.options = {};\n    mergeDefaultPropertyObject(options,lght.defaultAppConfig,this.options)        \n    this.canvas = elem;\n    this.eventListeners = []\n    this.eventListenersFunction = []\n    this.options.initFunctions.forEach((e)=>this[e]())\n    \n    this.objects = []\n    this.index = lght.gameloop.list.length\n    lght.gameloop.list.push((this.options.constantRender)?this.turnFunctions:()=>{})\n    lght.apps.push(this);\n}\n\nlght.app.prototype.turnFunctions = (obj)=>{\n    obj.options.animateFunctions.forEach((e)=>obj[e]())\n}\n\nlght.app.prototype.addEventListener =function(event,func){\n    this.eventListeners.push(event)\n    this.eventListenersFunction.push(func)\n    this.canvas.addEventListener(event,func)\n}\n\nlght.app.prototype.removeEventListenr = function(){\n    this.eventListeners.forEach((e,i)=>this.canvas.removeEventListener(e,this.eventListenersFunction[i]))\n}\n\nlght.app.prototype.kill = function(){\n    this.objects.forEach(e=>{\n        e.shapes.forEach(f=>f.kill())\n        e.kill()\n    })\n    this.killed = true\n    lght.gameloop.list.splice(this.index,1)\n    lght.apps.splice(this.index,1)\n    this.removeEventListenr()\n}\n\nlght.app.prototype.update = function(){\n    this.objects.forEach(e => {\n        if(typeof e.update === 'function') e.update(e)\n    });\n}\n\nlght.app.prototype.translateMouseCoor = function(e){\n\tvar x;\n    var y;\n\tif (e.pageX || e.pageY) { \n\t\tx = e.pageX;\n\t\ty = e.pageY;\n\t}\n\telse { \n\t\tx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft\n        y=e.clientX + document.body.scrollTop + document.documentElement.scrollTop\n    } \n    if(this.canvas.parentElement.scrollLeft && this.canvas.style.position !== 'fixed') x+=this.canvas.parentElement.scrollLeft\n    if(this.canvas.parentElement.scrollTop && this.canvas.style.position !== 'fixed') x+=this.canvas.parentElement.scrollTop\n\tx -= this.canvas.offsetLeft;\n\ty -= this.canvas.offsetTop;\n\treturn [x*this.pixelDensity,y*this.pixelDensity];\n}\n\n//Object\n\n//TOTAL OBJECT COUNT, USED TO PRODUCE ID\nlght.objectCount = 0;\n\nlght.object = class {\n    constructor(property,parent){\n        lght.objectCount++\n        this.id = lght.objectCount;\n        this.parent = parent;\n        this.parent.objects.push(this)\n        mergeDefaultPropertyObject\n        (property,lght.defaultObjectProps,this);    \n        this.initFunctions.forEach((e)=>this[e]())        \n        this.name = (property.objectName)?property.objectName:`Object ${this.id}`\n    }\n    \n    kill(){\n        this.parent.objects.splice(this.parent.objects.indexOf(this),1)\n    }\n\n    collide(obj){\n        for(let s1 of this.shapes){\n            for (let s2 of obj.shapes){\n                if(s1.collide(s2)) return true\n            }\n        }\n\n        return false\n    }\n\n    pointInObject(x,y){\n        for(let s1 of this.shapes){\n           if(s1.pointInShape(x,y)) return true\n        }\n        return false\n    }\n\n    findMax(){\n        let xs = []\n        let ys = []\n        this.shapes.forEach(s=>{\n            let [minX,maxX,minY,maxY] = s.findMax()\n            xs = [...xs,minX,maxX]\n            ys = [...ys,minY,maxY]\n        })\n        return [Math.min(...xs),Math.max(...xs),Math.min(...ys),Math.max(...ys)]\n    }\n\n    findThePositionThatIsRelativeToThisObjectFromAbsolutePosition(x,y){\n        return [x-this.x,y-this.y]\n    }\n}\n\nlght.storage = class extends lght.object{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultStorageProps,this)\n        this.storageShapes = []\n        this.model = property.model || []\n        this.elementFunction = property.elementFunction || null\n        this.updateToModel()\n    }\n    get totalLength(){\n        if(!this.model.length) return 0\n        if(!this.elementFunction) return 0\n        let shape\n        switch(this.direction){\n            case 'row-reverse':\n            case 'row':\n                shape = this.elementFunction(this.model[0],0)\n                const w = shape.width\n                shape.kill()\n                return w*this.model.length + this.spacing*(this.model.length-1)\n            case 'column-reverse':\n            case 'column':\n                shape = this.elementFunction(this.model[0],0)\n                const h = shape.height\n                shape.kill()\n                return h*this.model.length + this.spacing*(this.model.length-1)\n            default:\n                return 0\n                break;\n        }\n    }\n    updateToModel(){\n        let model =[...this.model]\n        this.storageShapes.forEach(e=>{e.kill();})\n        this.storageShapes = []\n        if(!model.length) return\n        if(!this.elementFunction) return\n        let shape\n        let totalLength\n        switch(this.direction){\n            case 'row-reverse':\n                model.reverse()\n            case 'row':\n                shape = this.elementFunction(model[0],0)\n                const w = shape.width\n                shape.kill()\n                totalLength = w*model.length + this.spacing*(model.length-1)\n                const firstX = -totalLength/2 + 0.5*w\n                model.forEach((content,i)=>{\n                    const shape = this.elementFunction(content,i)\n                    this.storageShapes.push(shape)\n                    shape.x = firstX + i*w + i*this.spacing\n                })\n                break;\n            case 'column-reverse':\n                model.reverse()\n            case 'column':\n                shape = this.elementFunction(model[0],0)\n                const h = shape.height\n                shape.kill()\n                totalLength = h*model.length + this.spacing*(model.length-1)\n                const firstY = -totalLength/2 + 0.5*h\n                model.forEach((content,i)=>{\n                    const shape = this.elementFunction(content,i)\n                    this.storageShapes.push(shape)\n                    shape.y = firstY +( i*h) + (i*this.spacing)\n                })\n                break\n            default:\n                break;\n        }\n        this.updateVisual()\n\n    }\n}\n\nlght.spriteLinkReference = []\nlght.spriteImageReference = []\nlght.funcLists = []\n\nlght.sprite = (link,func)=> {\n    const index = lght.spriteLinkReference.indexOf(link)\n    if(index !== -1){\n        const image = lght.spriteImageReference[index]\n        lght.funcLists[index].push(func)\n        if(image.complete) requestAnimationFrame(func)\n        return image\n    }\n    else{\n        const image = new Image()\n        const id = lght.spriteImageReference.length\n        image.onload = ()=>{\n            lght.funcLists[id].forEach(e=>e())\n        }\n        lght.funcLists[id] = []\n        lght.funcLists[id].push(func)\n        image.src = link\n        lght.spriteLinkReference.push(link)\n        lght.spriteImageReference.push(image)\n        return image\n    }\n}\n\nlght.sound = class{\n    constructor(link,loop){\n        this.elem = document.createElement('audio')\n        this.elem.oncanplaythrough = ()=>{\n            this.loaded = true\n            this.updateQueue()\n        }\n        this.elem.loop = loop\n        this.elem.volume = 0.2\n        this.elem.src = link\n        this.elem.setAttribute('preload','auto')\n        this.elem.setAttribute('controls','none')\n        this.elem.style.display = 'none'\n        document.body.appendChild(this.elem)\n        this.queue = 1\n        this.running = false\n        this.loaded = false\n    }\n    updateQueue(){\n        if(!this.running && this.queue && this.loaded && !lght.mute){\n            this.running = true\n            this.elem.play()\n            setTimeout(()=>{\n                this.running = false\n                this.updateQueue()\n            },this.elem.duration + 300)\n            this.queue--\n        }\n    }\n    addToQueue(){\n        this.queue++\n        this.updateQueue()\n    }\n}\n\nlght.audioReference = []\nlght.audioLinkReference = []\nlght.playSound = (src,loop)=>{\n    if(lght.audioLinkReference.indexOf(src)<0){\n        const sound = new lght.sound(src,loop)\n        lght.audioReference.push(sound)\n        lght.audioLinkReference.push(sound)\n    }\n    else lght.audioReference[lght.audioLinkReference.indexOf(src)].addToQueue()\n}\nlght.stopAll = ()=>{\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>{\n        e.pause()\n    })\n}\nlght.muteAll = ()=>{\n    lght.mute = true\n    lght.stopAll()\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>e.mute=true)\n}\nlght.unmuteAll = ()=>{\n    lght.mute = false\n    lght.stopAll()\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>e.mute=false)\n    lght.audioReference.forEach(e=>{if(e.elem.loop) e.addToQueue()})\n}\n\nlght.shape = class {\n    constructor (property,parent) {\n        this.kind = property.kind\n        this.parent = parent;\n        this.parent.shapes.push(this);\n        mergeDefaultPropertyObject\n        (property,lght.defaultShapeOptions,this);\n    }\n\n    kill (){\n        const index = this.parent.shapes.indexOf(this)\n        if(index<0) return\n        this.parent.shapes.splice(index,1);\n        this.parent.updateVisual()\n    }\n\n    get absoluteX(){\n        return this.x + this.parent.x\n    }\n\n    get absoluteY(){\n        return this.y + this.parent.y\n    }\n\n    get hasBorder(){\n        return this.border||this.borderOnly\n    }\n\n    get width(){\n        return (((this.hasBorder)?(this.w + this.borderWidth):this.w))*this.scaleX\n    }\n\n    get height(){\n        return ((this.hasBorder)?this.h + this.borderWidth:this.h)*this.scaleY\n    }\n\n    get outOfBound(){\n        let [minX,maxX,minY,maxY] = this.findMax();\n        let {width,height} = this.parent.parent.canvas;\n        return (minX > width || maxX < 0 || minY > height || maxY < 0) \n    }\n\n    findVertex(){\n        return []\n    }\n\n    findMax(){\n        const vertex = this.findVertex()\n        const xs = []\n        const ys = []\n\n        vertex.forEach(([x,y])=>{\n            xs.push(x); ys.push(y)\n        })\n\n        let offsetMinX = - this.borderWidthIfBorderIsOn \n        let offsetMaxX = this.borderWidthIfBorderIsOn \n        let offsetMinY = - this.borderWidthIfBorderIsOn \n        let offsetMaxY = this.borderWidthIfBorderIsOn \n\n        if(this.shadow){\n            let shadowOffsetMinX = -this.shadow.blur -2\n            let shadowOffsetMaxX = this.shadow.blur + 2\n            let shadowOffsetMinY = -this.shadow.blur -2\n            let shadowOffsetMaxY = this.shadow.blur +2\n            if(this.shadow.offsetX){\n                shadowOffsetMinX += this.shadow.offsetX\n                shadowOffsetMaxX += this.shadow.offsetX\n            }\n            if(this.shadow.offsetY){\n                shadowOffsetMinY += this.shadow.offsetY\n                shadowOffsetMaxY += this.shadow.offsetY\n            }\n            if(shadowOffsetMinX<0) offsetMinX += shadowOffsetMinX\n            if(shadowOffsetMaxX>0) offsetMaxX += shadowOffsetMaxX\n            if(shadowOffsetMinY<0) offsetMinY += shadowOffsetMinY\n            if(shadowOffsetMaxY>0) offsetMaxY += shadowOffsetMaxY\n        }\n\n        return [\n            Math.min(...xs) + offsetMinX,\n            Math.max(...xs) + offsetMaxX,\n            Math.min(...ys) + offsetMinY,\n            Math.max(...ys) + offsetMaxY\n        ]\n    }\n\n    get borderWidthIfBorderIsOn(){\n        if(this.border||this.borderOnly) return this.borderWidth\n        return 0\n    }\n\n    pointInShape(x,y){\n        let sides = this.findSides()\n        const [minX,maxX,minY,maxY] = this.findMax()\n        let distance = findDistance2Point(x,y,maxX,maxY)\n        let compareSide = [x,y,x+distance,y]\n        let intersect = 0\n        if(x>maxX||x<minX||y>maxY||y<minY) return false\n        sides.forEach(e=>{\n            if(findIntersection(e,compareSide)) intersect++\n        })\n        return !(intersect%2 === 0)\n    }\n\n    findSides(){\n        let vertex = this.findVertex()\n        let result = []\n        for(let i = 0;i<vertex.length;i++){\n            result.push([...vertex[i],...((vertex[i+1])?vertex[i+1]:vertex[0])])\n        }\n        return result\n    }\n\n    collide(shape){\n        if(shape.kind==='arc') return shape.collide(this)\n        let [maxX1,minX1,maxY1,minY1] = this.findMax()\n        let [maxX2,minX2,maxY2,minY2] = shape.findMax()\n        if (((minX1 < minX2) && (maxX1 > maxX2) && (minY1<minY2) && (maxY1>maxY2)) || ((minX2 < minX1) && (maxX2 > maxX1) && (minY2<minY1) && (maxY2>maxY1))) return true\n\n        let side1 = this.findSides()\n        let side2 = shape.findSides()\n\n        for (let s1 of side1){\n            for (let s2 of side2){\n                if(findIntersection(s1,s2)) return true\n            }\n        }\n        return false\n    }\n}\n\nlght.rect = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultRectOptions,this)\n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,1],[1,1]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\nlght.arc = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultArcOptions,this)\n    }\n\n    get radius(){\n        return (this.hasBorder)?this.rad + this.borderWidth : this.rad\n    }\n\n    get minAngle(){\n        return this.rotation\n    }\n\n    get maxAngle(){\n        return this.rotation + this.arcDegree\n    }\n\n    get minRadAngle(){\n        return degToRad(this.minAngle)\n    }\n\n    get maxRadAngle(){\n        return degToRad(this.maxAngle)\n    }\n\n    get pureCircle(){\n        return this.arcDegree===360\n    }\n\n    pointInShape(x,y){\n        var angle = findAngle2Point(this.absoluteX,this.absoluteY,x,y)\n        if (angle>this.minAngle && angle<this.maxAngle){\n            if(findDistance2Point(this.absoluteX,this.absoluteY,x,y)<=this.radius) return true\n        }\n        return false\n    }\n\n    findMax(){\n        let result = [this.absoluteX-this.radius,this.absoluteX+this.radius,this.absoluteY-this.radius,this.absoluteY+this.radius]\n        let xs = [this.absoluteX,this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius]\n        let ys = [this.absoluteY,this.absoluteY-Math.sin(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius]\n        if(!this.pointInShape(result[0],this.absoluteY)) result[0] = Math.min(...xs) - this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(result[1],this.absoluteY)) result[1] = Math.max(...xs) + this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(this.absoluteX,result[2])) result[2] = Math.min(...ys) - this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(this.absoluteX,result[3])) result[3] = Math.max(...ys) + this.borderWidthIfBorderIsOn/2;\n        return result\n    }\n\n    findVertex(){\n        let [minX,maxX,minY,maxY] = this.findMax()\n        let referenceX = [this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius,this.absoluteX+this.radius,this.absoluteX-this.radius,this.absoluteX]\n        let referenceY = [this.absoluteY-Math.sin(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius,this.absoluteY+this.radius,this.absoluteY-this.radius,this.absoluteY]\n\n        return [\n            [minX,referenceY[referenceX.indexOf(minX)]],\n            [maxX,referenceY[referenceX.indexOf(maxX)]],\n            [referenceX[referenceY.indexOf(minY)],minY],\n            [referenceX[referenceY.indexOf(maxY)],maxY],\n        ]\n    }\n\n    fidnSides(){\n        if(this.arcDegree === 360) return false\n        return [\n            [this.absoluteX,this.absoluteY,this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.minRadAngle)*this.radius],\n            [this.absoluteX,this.absoluteY,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius]\n        ]\n    }\n\n    collide(shape){\n        let vertex1 = this.findVertex()\n        let vertex2 = shape.findVertex()\n\n        for(let [x,y] of vertex1){\n            if(shape.pointInShape(x,y)) return true\n        }\n        for(let [x,y] of vertex2){\n            if(this.pointInShape(x,y)) return true\n        }\n        if(shape.kind==='arc'){                \n            //when checking for intersection between 2 arcs, there are 2 cases\n            //Case 1: they are both circles. In this case the distance between the 2 center have to be smaller or equal to\n            //sum of radius for them to intersect\n\n            if(this.pureCircle && shape.pureCircle){\n                return findDistance2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY) <= this.radius + shape.radius\n            }\n\n            //Case 2: either of them are arcs\n            //In these cases, there are 2 scenarios\n            //Scenario 1: one of the vertexes will be inside the circle, this is easy to check\n            //Scenario 2: none of the vertex is inside the circle. There is only one possible explanation for this. In this case, check if \n            //the \"ray\" that connect the 2 center is inside both arcs, then check that the length of the ray is less than the length of both radius\n\n            if(findDistance2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY) > this.radius + shape.radius) return false\n\n            let ray1 = findAngle2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY)\n            let ray2 = findAngle2Point(shape.absoluteX,shape.absoluteY,this.absoluteX,this.absoluteY)\n            return ((ray1<this.maxAngle&&ray1>this.minAngle)&&(ray2<shape.maxAngle&&ray2>shape.minAngle))\n        }\n        else{\n            let side = shape.findSides()\n\n            for(let s of side){\n                let closest = findClosestPoint(this.absoluteX,this.absoluteY,s)\n                if(closest){\n                    if (this.pointInShape(closest[0],closest[1])) return true\n                }\n            }\n            return false\n        }\n    }\n}\n\nlght.roundedRectangle = class extends lght.rect{\n    constructor(property,parent){\n        super(property,parent)\n        this.borderRadius = (property.borderRadius) || 0\n        if(this.clip){\n            if(property.clipCanvas){\n                this.clipImage = property.clipCanvas;\n                this.clipCanvas=true\n            }\n            else{\n                this.clipImage = lght.sprite(this.clipImageLink,()=>{\n                    this.parent.updateVisual()\n                })\n            }\n        }\n    }\n\n    get clipImageLoaded(){\n        if(!this.clip) return false\n        if(this.clipCanvas) return true\n        return this.clipImage.complete\n    }\n\n    changeClipImage(imageUrl){\n        this.clipImage = lght.sprite(imageUrl,()=>{\n            this.parent.updateVisual()\n        })\n    }\n}\n\nlght.poly = class extends lght.shape{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultPolyOptions,this)\n        if(this.clip){\n            this.clipImage = lght.sprite(this.clipImageLink,()=>{\n                this.parent.updateVisual()\n            })\n        }\n    }\n\n    get clipImageLoaded(){\n        if(!this.clip) return false\n        return this.clipImage.complete\n    }\n\n    get polyPoints(){\n        if(!this.specialPolygon) return this.points\n        const radiusCoefficient = 360/this.numberOfSide\n        const result = []\n        for(let i = 0;i<this.numberOfSide;i++){\n            result.push(calculateRotatePoint(0,0,radiusCoefficient*i,this.radius))\n        }\n        return result\n    }  \n\n    get width(){\n        return this.findMax()[1] - this.findMax()[0]\n    }\n\n    get height(){\n        return this.findMax()[3] - this.findMax()[2]\n    }\n\n    get sideLength(){\n        if(!this.specialPolygon) return null\n        const radiusCoefficient = degToRad(360/this.numberOfSide)\n        return Math.sqrt(2*Math.pow(this.radius,2) - 2*Math.pow(this.radius,2)*Math.cos(radiusCoefficient))\n    }\n\n    findVertex(){\n        return this.polyPoints.map(([x,y])=>rotatePoint(this.absoluteX,this.absoluteY,x+this.absoluteX,y+this.absoluteY,this.rotation))\n    }\n}\n\nlght.line = class extends lght.shape{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultLineOptions,this)\n    }\n\n    get rotatedPoints(){\n        return this.points.map(([x,y])=>(rotatePoint(this.absoluteX,this.absoluteY,x+this.absoluteX,y+this.absoluteY,this.rotation)))\n    }\n\n    findVertex(){\n        const result = []\n        const notIncluded = ([x,y]) => {\n            for (const position of result) {\n                const [x2,y2] = position\n                if(~~ (x + 0.5)===~~ (x2+ 0.5) && ~~ (y + 0.5)===~~ (y2+0.5)) return false\n            }\n            return true\n        }\n        const point = [...this.rotatedPoints]\n        point.forEach(([x1,y1],index)=>{\n            if (index===point.length-1) return\n            const [x2,y2] = this.rotatedPoints[index+1]\n            const distance = findDistance2Point(x1,y1,x2,y2)\n            const tan = Math.atan((this.lineWidth/2)/distance)\n            const angle = findAngle2Point(x1,y1,x2,y2)\n            const angleQuadrant = radToDeg(tan)+angle\n            const firstDistance = Math.sqrt(distance*distance + (0.5*this.lineWidth)*(0.5*this.lineWidth))\n            const pointOneInFirstQuadrant = calculateRotatePoint(x1,y1,angleQuadrant,firstDistance)\n            const pointSecondInSecondQuadrant = calculateRotatePoint(...pointOneInFirstQuadrant,180+angle,distance)\n            const pointThreeInThirdQuadrant = calculateRotatePoint(...pointSecondInSecondQuadrant,270+angle,distance)\n            const pointFourInFourthQuadrant = calculateRotatePoint(...pointThreeInThirdQuadrant,angle,distance)\n            if(notIncluded(pointFourInFourthQuadrant)) result.push(pointFourInFourthQuadrant)\n            if(notIncluded(pointOneInFirstQuadrant)) result.push(pointOneInFirstQuadrant)\n            if(notIncluded(pointSecondInSecondQuadrant)) result.push(pointSecondInSecondQuadrant)\n            if(notIncluded(pointThreeInThirdQuadrant)) result.push(pointThreeInThirdQuadrant)\n        })\n        return result\n    }\n}\n\nlght.text = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultTextOptions,this)\n    }\n\n    get textSize(){\n        var c = lght.apps[0].context;\n        c.save();\n        c.font = this.font;\n        var width = c.measureText(this.text).width;\n        var height = c.measureText('gM').width;\n        c.restore();\n        return [width,height];\n    }\n\n    get w(){\n        return this.textSize[0] + this.borderWidthIfBorderIsOn\n    }\n\n    get h(){\n        return this.textSize[1] + this.borderWidthIfBorderIsOn\n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,0.5],[1,0.5]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\nlght.img = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultImgOptions,this)\n        this.sprite = lght.sprite(this.spriteLink,()=>{\n            if(this.loadedFunction) this.loadedFunction()\n            this.parent.updateVisual()\n        })\n    }\n\n    get imageLoaded(){\n        return this.sprite.complete\n    }\n\n    get w(){\n        if(this.drawWidth) return this.drawWidth\n        if(this.imageLoaded){\n            if(this.drawHeight) return (this.drawHeight*this.sprite.width)/this.sprite.height\n            return this.sprite.width\n        }\n        return 0\n    }\n\n    get h(){\n        if(this.drawHeight) return this.drawHeight\n        if(this.imageLoaded){\n            if(this.drawWidth) return (this.drawWidth*this.sprite.height)/this.sprite.width\n            return this.sprite.height\n        }\n        return 0 \n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,1],[1,1]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\n//Input\n //<--------------KEYBOARD INPUT GO HERE------------------->\n lght.object.prototype.attachQuickMovement = function (velocity,cooldown,func) {\n    var cd = true; var obj = this\n    document.addEventListener('keydown',function(key){\n        if(cd){\n            if(lght.inputReference.movementIndex.indexOf(key.key)!==-1){\n                obj.x += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][0]*velocity;\n                obj.y += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][1]*velocity;\n                obj.updateVisual();\n                if(func) func(key,obj);\n                cd = false; \n                setTimeout(()=>{cd = true;},cooldown)\n            }\n        }\n    })\n}\n\n//<--------------MOUSE INPUT GO HERE---------------------->\n\nlght.app.prototype.startCursor = function(){\n    this.canvas.style.cursor = 'pointer'\n}\n\nlght.app.prototype.endCursor = function(){\n    this.canvas.style.cursor = 'default'\n}\n\nlght.object.prototype.enterCursorEvent = function(){\n    if(this.alreadyCursorEvent) return\n    this.alreadyCursorEvent = true\n    this.hoverEvent(()=>this.parent.startCursor(),()=>this.parent.endCursor())\n}\n\nlght.shape.prototype.enterCursorEvent = function(){\n    if(this.alreadyCursorEvent) return\n    this.alreadyCursorEvent = true\n    this.hoverEvent(()=>this.parent.parent.startCursor(),()=>this.parent.parent.endCursor())\n}\n\nlght.app.prototype.attachEvent = function(event,func){\n    const mobile = window.mobileCheck()\n    let trueEvent = event\n    if(mobile){\n        switch(trueEvent){\n            case 'mousedown':\n                trueEvent = 'touchstart'\n                break\n            case 'mouseup':\n                trueEvent='touchend'\n                break\n            case 'mousemove':\n                trueEvent='touchmove'\n                break\n            default:\n                break;\n        }\n    }\n    this.addEventListener(trueEvent,(e)=>{\n        if(this.killed) return \n        if(window.mobileCheck()){\n            Array.from(e.changedTouches).forEach(touch=>{\n                const [x,y] = this.translateMouseCoor(touch)\n                func(x,y)\n            })\n            return\n        }\n        const [x,y] = this.translateMouseCoor(e)\n        func(x,y)\n    })\n}\n\nlght.app.prototype.mouseInputInit = function(){\n    const handleCoor = (x,y,event)=>{\n        if(this.objects.length === 0) return\n        for (let i = this.objects.length;i--;i>=0){\n            const obj = this.objects[i]\n            if(obj[event].length === 0) continue\n            if(!obj.display) continue\n\n            if(obj.pointInObject(x,y)){\n                for(let func of obj[event])( func(x,y))\n                break;\n            }\n        }\n        LargeLoop:for (let i = this.objects.length;i--;i>=0){\n            const obj = this.objects[i]\n            if(obj.shapes.length === 0) continue\n            if(!obj.display) continue\n            for(let a = obj.shapes.length;a--;a>=0){\n                const shape = obj.shapes[a]\n                if(shape[event].length === 0) continue\n                if(!shape.display) continue\n                if(shape.pointInShape(x,y)){\n                    for(let func of shape[event]){func(x,y)}\n                    break LargeLoop;\n                }\n            }\n        }\n    }\n\n    this.attachEvent('mouseup',(x,y)=>handleCoor(x,y,'mouseUpEvent'))\n    this.attachEvent('mousemove',(x,y)=>handleCoor(x,y,'mouseMoveEvent'))\n    this.attachEvent('mousedown',(x,y)=>handleCoor(x,y,'mouseDownEvent'))\n}\n\n//PRESS EVENT FOR AN APP\nlght.object.prototype.pressedEvent = function (func) {\n    this.enterCursorEvent()\n    this.mouseUpEvent.push(func)\n}\n\n//MAKE AN OBJECT DRAGGABLE\nlght.object.prototype.makeDraggable = function (func,funcDone) {\n    this.enterCursorEvent()\n    this.onDrag = false; var obj = this; this.draggable = true;\n    var rx = 0; var ry = 0; \n\n    this.mouseDownEvent.push((x,y)=>{\n        if(obj.draggable){\n            if(!obj.onDrag){\n                obj.onDrag = true;\n                rx = x - obj.x; ry = y - obj.y;\n            }\n        }\n    })\n\n    this.parent.attachEvent('mousemove', (...c) => {\n        if(c[0] < 0 || c[0] >this.parent.canvas.width || c[1] < 0 || c[1] > this.parent.canvas.height) obj.onDrag = false\n        if(obj.onDrag){\n            obj.x = c[0] - rx; obj.y = c[1] - ry;\n            obj.updateVisual();\n            if(typeof func == 'function') func(obj);\n        }\n    })\n\n    this.parent.attachEvent('mouseup', (e) => {\n        if(obj.onDrag){\n            obj.onDrag = false;\n            if(funcDone) funcDone()\n        }\n    })\n}\n\n//HOVER EVENT\nlght.object.prototype.hoverEvent = function (funcin,funcout)  {\n    this.mouseIn = false; var obj = this;\n    this.hoverEvents.push([funcin,funcout])\n    if(this.hoverEvents.length === 1){\n        this.enterCursorEvent()\n        this.parent.attachEvent('mousemove', (...c)=>{\n            if(c[0] < 0 || c[0] >this.parent.canvas.width || c[1] < 0 || c[1] > this.parent.canvas.height){\n                obj.mouseIn = false;\n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.updateVisual()\n                return;\n            }\n            var touch = obj.pointInObject(c[0],c[1]);\n            if(obj.mouseIn && (!touch)){\n                obj.mouseIn = false; \n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.updateVisual()\n            }\n            \n        })\n        this.mouseMoveEvent.push(()=>{\n            if(!obj.mouseIn){\n                obj.mouseIn = true;\n                for(let event of this.hoverEvents){\n                    if(event[0]) event[0]() \n                }\n                obj.updateVisual()\n            }\n        })\n    }\n}\n\n//INPUT FOR SHAPES\nlght.object.prototype.attachQuickMovement = function (velocity,cooldown,func) {\n    var cd = true; var obj = this\n    document.addEventListener('keydown',function(key){\n        if(cd){\n            if(lght.inputReference.movementIndex.indexOf(key.key)!==-1){\n                obj.x += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][0]*velocity;\n                obj.y += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][1]*velocity;\n                obj.updateVisual();\n                if(func) func(key,obj);\n                cd = false; \n                setTimeout(()=>{cd = true;},cooldown)\n            }\n        }\n    })\n}\n\n//<--------------MOUSE INPUT GO HERE---------------------->\n\n//PRESS EVENT FOR AN APP\nlght.shape.prototype.pressedEvent = function (func) {\n    this.enterCursorEvent()\n    this.mouseUpEvent.push(func)\n}\n\n//HOVER EVENT\nlght.shape.prototype.hoverEvent = function (funcin,funcout)  {\n    this.mouseIn = false; var obj = this;\n    this.hoverEvents.push([funcin,funcout])\n    if(this.hoverEvents.length === 1){\n        this.enterCursorEvent()\n        this.parent.parent.attachEvent('mousemove', (...c)=>{\n            if(!this.display) return\n            if(c[0] < 0 || c[0] >this.parent.parent.canvas.width || c[1] < 0 || c[1] > this.parent.parent.canvas.height){\n                obj.mouseIn = false; \n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.parent.updateVisual();\n                return;\n            }\n            var touch = obj.pointInShape(c[0],c[1]);\n            if(obj.mouseIn && (!touch)){\n                obj.mouseIn = false;\n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.parent.updateVisual();\n            }\n            \n        })\n        this.mouseMoveEvent.push(()=>{\n            if(!obj.mouseIn){\n                obj.mouseIn = true;\n                for(let event of this.hoverEvents){\n                    if(event[0]) event[0]() \n                }\n                obj.parent.updateVisual()\n            }\n        })\n    }\n}\n\n//Animation\nlght.app.prototype.animate = function() {\n    if(lght.frameTime !== undefined && lght.lastFrame !== undefined){\n        let timeDifference = lght.frameTime - lght.lastFrame\n        this.objects.forEach(e => {\n            e.animate(timeDifference);\n            e.shapes.forEach(a => {\n                a.animate(timeDifference)\n            })\n        });\n    }\n}\n\nconst addAnimation = function(property,value,time,func){\n    this.animationCount++;\n    let id = this.animationCount;\n\n    let timeout = setTimeout(()=>{\n        changeByDotNotation(property,this,value)\n        this.cancelAnimation(id)\n        if(this.parent.static !== undefined) this.parent.static = true\n        else this.static = true\n        if(func) func();\n    },time)\n\n    const alreadyAnimated = this.animations.find((animation)=>animation[0] === property)\n    if(alreadyAnimated){\n        this.cancelAnimation(alreadyAnimated[6])\n    }\n    if(property !== 'x' && property !== 'y'){\n        if(this.parent.static !== undefined) this.parent.static = false\n        else this.static = false\n    }\n    this.animations.push([property,value,getByDotNotation(property,this),time,timeout,func,id]);\n    return id;\n}\n\nconst cancelAnimation = function(){\n    for(let id of [...arguments]){\n        let animation = this.animations.find(e=>e[6] === id)\n        let index = this.animations.findIndex(e=>e[6]===id)\n        if(!animation) return false\n        clearTimeout(animation[4])\n        this.animations.splice(index,1)\n    }\n}\n\nconst animate = function (time){\n    let obj = this\n    this.animations.forEach(animation=>{\n        let [property,value,init,timeUp] = animation\n        let newValue = getByDotNotation(property,obj) + (time/timeUp)*(value-init)\n        if(init < value && newValue > value) newValue = value\n        if(init>value && newValue < value) newValue = value\n        changeByDotNotation(property,obj,newValue)\n    })\n}\n\nlght.animateFunctionReference = {\n    animate,\n    addAnimation,\n    cancelAnimation,\n}\n\nfor(var prop in lght.animateFunctionReference){\n    lght.object.prototype[prop] = lght.animateFunctionReference[prop];\n    lght.shape.prototype[prop] = lght.animateFunctionReference[prop];\n}\n\n//Draw\nlght.app.prototype.render = function(){\n    this.clearCanvas();\n    this.fillBackground();\n    this.renderShape();\n}\n\nlght.app.prototype.visualInit = function(){\n    this.backgroundColor = this.options.background;\n    this.context = this.canvas.getContext(\"2d\");\n}\n\nlght.app.prototype.renderShape = function(){\n    this.renderPositions();\n\n    this.objects.sort((a,b)=>a.zIndex -b.zIndex).forEach(obj=>{\n        obj.draw();\n    })\n}\n\n//<-------------------BASIC CANVAS STUFF---------------------->\n//CLEARING CANVAS AND BACKGROUND COLOR\nlght.app.prototype.clearCanvas = function(){\n    this.context.save(); \n    this.context.clearRect(0,0,this.canvas.width,this.canvas.height); \n    this.context.restore();\n}\n\nlght.app.prototype.fillBackground = function(){\n    if(this.backgroundColor!=='none'){\n        this.context.save(); \n        this.context.fillStyle = this.backgroundColor;\n        this.context.fillRect(0,0,this.canvas.width,this.canvas.height);\n        this.context.restore();\n    }\n}\n\n/*POSITION INDICATOR FUNCTIONS GO HERE\nDraw all position indicators at once to save performance from context state change*/\nlght.app.prototype.renderPositions = function(){\n    this.context.save();\n    this.context.fillStyle = 'red';\n\n    this.objects.forEach(({x,y,positionIndicator}) => {\n        if(!positionIndicator) return\n        this.context.beginPath()\n        this.context.arc(x,y,5,0,2*Math.PI)\n        this.context.closePath()\n        this.context.fill()\n    });\n    \n    this.context.restore();\n}\n\n\n/* SHAPE PRERENDERING FUNCTIONS GO HERE\nShape prerendering prerender shapes on canvases to save performance*/\n\nlght.object.prototype.updateVisual = function(){\n    //If the dimension changes a new canvas have to be created\n    var max = this.findMax();\n    for(var i = 0;i<max.length;i++){\n        if(~~ (max[i] + 0.5)!== ~~ (this.preloader.maxes[i] + 0.5)){\n            this.createPreloader(); return;\n        }\n    }\n\n    this.clearPreloader();\n\n    this.shapes.forEach(s=>{\n        let x = this.preloader.ox + s.x\n        let y = this.preloader.oy + s.y\n        lght.drawShape(this.preloader.context,x,y,s,)\n    })\n    if(!this.parent.options.constantRender) this.parent.turnFunctions(this.parent)\n}\n\nlght.object.prototype.clearPreloader = function(){\n    this.preloader.context.clearRect(0,0,this.preloader.width,this.preloader.height);\n}\n\nlght.object.prototype.createPreloader = function(){\n    this.preloader = document.createElement('canvas');\n    \n    this.preloader.maxes = this.findMax();\n    let [minX,maxX,minY,maxY] = this.preloader.maxes\n\n    this.preloader.width = maxX-minX;\n    this.preloader.height = maxY-minY;\n\n    this.preloader.ox = this.x - minX;\n    this.preloader.oy = this.y - minY;\n\n    this.preloader.context = this.preloader.getContext('2d');\n\n    this.updateVisual();\n}\n\nlght.object.prototype.drawPreloader = function(){\n    if(!this.display) return\n    if(this.preloader.width >0 && this.preloader.height > 0){\n        let x = this.preloader.maxes[0] + this.preloader.width/2;\n        let y = this.preloader.maxes[2] + this.preloader.height/2;\n        x = ~~(x+0.5); y = ~~(y+0.5);\n\n        this.parent.context.save()\n        this.parent.context.translate(x,y)\n        lght.drawImg(this.parent.context,this.preloader,this.preloader.width,this.preloader.height);\n        this.parent.context.restore()\n    }\n}\n\n\n//<------------------SHAPE DRAWING FUNCTION---------------->\nlght.object.prototype.draw = function(){\n    if(!this.display) return\n    this.shapes.forEach(s=>{\n        lght.drawShape(this.parent.context,this.x+s.x,this.y+s.y,s)\n    })\n}\n\n//MASTER FUNCTION\nlght.drawShape = function(c,x,y,shape){\n    x = ~~(x+0.5)\n    y = ~~(y+0.5)\n    if(!shape.display) return\n    if(shape.border || shape.borderOnly) this.drawShapeKind(c,shape,x,y,true,1,shape.borderColor,shape.shadow);\n    else if(!shape.borderOnly && !shape.border) this.drawShapeKind(c,shape,x,y,false,shape.opacity,shape.color,shape.shadow);\n    if(!shape.borderOnly) this.drawShapeKind(c,shape,x,y,false,shape.opacity,shape.color);\n}\n\nlght.drawShapeKind = function(c,s,x,y,stroke,opacity,color,shadow){\n    opacity = opacity * s.parent.opacity;\n    if(opacity == 0 || opacity <0 ) return\n\n    c.save()\n    c.globalAlpha = opacity\n    c.fillStyle = color\n    c.strokeStyle = color\n    c.lineWidth = s.borderWidth\n    c.translate(x,y)\n    c.scale(s.scaleX,s.scaleY)\n\n    if(shadow){\n        const {color,blur,offsetX,offsetY} = shadow\n        c.shadowColor = color\n        c.shadowBlur = blur\n        c.shadowOffsetX = offsetX\n        c.shadowOffsetY = offsetY\n    }\n\n    switch(s.kind){\n        case 'rect':\n            lght.drawRect(c, s.w, s.h, s.rotation, stroke); break;\n        case 'arc':\n            lght.drawArc(c, s.rad,s.arcDegree,s.rotation, stroke); break;\n        case 'text':\n            lght.drawText(c, s.text,s.font, stroke,s.textAlign ,s.w, s.h,s.rotation); break;\n        case 'img':\n            if(s.imageLoaded) lght.drawImg(c, s.sprite,s.w,s.h,s.rotation); break;\n        case 'poly':\n            lght.drawPoly(c, s.polyPoints,s.rotation, stroke); break;\n        case 'line':\n            if(stroke){\n                const points = s.points.map(((position,index)=>{\n                    const [x,y] = position\n                    if(index === 0){\n                        const angle = degToRad(findAngle2Point(...position,...s.points[index+1]))\n                        return [x-s.borderWidth*Math.cos(angle),y+s.borderWidth*Math.sin(angle)]\n                    }\n                    else if(index === s.points.length-1){\n                        const angle = degToRad(findAngle2Point(...position,...s.points[index-1]))\n                        return [x-s.borderWidth*Math.cos(angle),y+s.borderWidth*Math.sin(angle)]\n                    }\n                    else return [x,y]\n                }))\n                lght.drawLine(c,points,s.rotation,s.lineWidth+s.borderWidth);\n            }\n            else lght.drawLine(c,s.points,s.rotation,s.lineWidth); break;\n        case 'roundedRectangle':\n            lght.drawRoundedRectangle(c,s.w,s.h,s.rotation,s.borderRadius,stroke)\n            break\n        default:\n            break\n    }\n    if(s.clip && s.clipImageLoaded){\n        c.clip()\n        c.rotate(degToRad(s.rotation))\n        if(typeof s.clipSpriteSheetX === 'number' && typeof s.clipSpriteSheetY === 'number'){\n            const spriteWidth = s.clipImage.width / s.spriteLengthX\n            const spriteHeight = s.clipImage.height / s.spriteLengthY\n            const clipStartX = s.clipSpriteSheetX * spriteWidth\n            const clipStartY = s.clipSpriteSheetY * spriteHeight\n            c.drawImage(s.clipImage,clipStartX,clipStartY,spriteWidth,spriteHeight,(-s.width/2)/s.scaleX,(-s.height/2)/s.scaleY,s.width/s.scaleX,s.height/s.scaleY)\n        }\n        else c.drawImage(s.clipImage,(-s.width/2)/ s.scaleX,(-s.height/2)/ s.scaleY,s.width / s.scaleX,s.height / s.scaleY)\n    }\n\n    c.restore()\n}\n\n//DRAWING RECTANGLE\nlght.drawRect = function(c,w,h,rotation,stroke){\n    c.rotate(degToRad(360-rotation))\n    if(stroke) c.strokeRect(-w/2,-h/2,w,h);\n    else c.fillRect(-w/2,-h/2,w,h);\n}\n\nlght.drawRoundedRectangle = (c,w,h,rotation,borderRadius,stroke)=>{\n    c.rotate(degToRad(360,rotation))\n    c.beginPath()\n    c.moveTo(0,-h*0.5)\n    c.lineTo(-w*0.5+borderRadius,-h*0.5)\n    c.quadraticCurveTo(-w*0.5,-h*0.5,-w*0.5,-h*0.5+borderRadius)\n    c.lineTo(-w*0.5,h*0.5-borderRadius)\n    c.quadraticCurveTo(-w*0.5,h*0.5,-w*0.5+borderRadius,h*0.5)\n    c.lineTo(w*0.5-borderRadius,h*0.5)\n    c.quadraticCurveTo(w*0.5,h*0.5,w*0.5,h*0.5-borderRadius)\n    c.lineTo(w*0.5,-h*0.5+borderRadius)\n    c.quadraticCurveTo(w*0.5,-h*0.5,w*0.5-borderRadius,-h*0.5)\n    c.lineTo(0,-h*0.5)\n    c.closePath()\n    if(stroke) c.stroke()\n    else c.fill()\n}\n\n//DRAWING CIRCLES\nlght.drawArc = function(c,rad,arcDegree,rotation,stroke){\n    c.beginPath();\n\n    const br = degToRad(360 - rotation - arcDegree);\n    const er = degToRad(360 - rotation);\n\n    if(arcDegree < 360){\n        const [x,y] = rotatePoint(0,0,rad,0,360-rotation-arcDegree);\n        c.moveTo(x,y); c.moveTo(0,0);\n    }\n\n    c.arc(0,0,rad,br,er);\n\n    if(stroke) c.stroke();\n    else c.fill();\n    c.closePath();\n\n}\n\n//DRAWING TEXT\n\nlght.drawText = function(c,text,font,stroke,textAlign,width,height,rotation){\n    c.textAlign = textAlign;\n    c.font = font;\n    c.rotate(degToRad(360-rotation))\n    if(stroke) c.fillText(text,~~(-width/2 +  0.5),~~(height/3.5 + 0.5));\n    else c.fillText(text,~~(-width/2 + 0.5),~~(height/3.5 + 0.5))\n}\n\n//DRAWING IMAGES\nlght.drawImg = function(c,sprite,w,h,rotation){\n    c.rotate(degToRad(360-rotation));\n    c.drawImage(sprite,-w/2,-h/2,w,h);\n}\n\nlght.drawPoly = (c,points,rotation,stroke) => {\n    if(points.length === 0 || !points) return \n    c.rotate(degToRad(360-rotation))\n    c.beginPath()\n    c.moveTo(...points[0])\n    points.forEach(([x,y])=>c.lineTo(x,y))\n    c.closePath()\n    if(stroke) c.stroke()\n    else c.fill()\n}\n\nlght.drawLine = (c,points,rotation,lineWidth)=>{\n    c.beginPath()\n    c.rotate(degToRad(360-rotation))\n    c.moveTo(...points[0])\n    points.forEach(([x,y])=>c.lineTo(x,y))\n    c.lineWidth = lineWidth\n    c.stroke()\n}\n\nlght.object.prototype.addShape = function (property) {\n    let shape = new lght[property.kind](property,this);\n    this.updateVisual()\n    return shape\n}\n\nlght.app.prototype.addObject = function (property) {\n    return new lght.object(property,this);\n}\n\nlght.app.prototype.addStorage = function (property){\n    return new lght.storage(property,this)\n}\n\nlght.app.prototype.removeObject = function (obj) {\n    this.objects.splice(this.objects.indexOf(obj),1);\n}\n\nexport default lght","import lght from './lght/lght'\nconst pd = 2\nconst handHeight = 75*pd\nconst spriteLink = 'https://upload.wikimedia.org/wikipedia/commons/9/95/UNO_cards_deck.svg'\nconst webView = class{\n  constructor(ref,ref2,ref3){\n\n    this.cardSpriteColumn = 14\n    this.cardSpriteRow = 8\n    this.cardSpriteReference = {\n      wild:[0,13],\n      Draw4:[4,13],\n      colorReference:['red','yellow','green','blue'],\n      otherReference:['Skip','Reverse','Draw 2']\n    }\n    this.app = new lght.app(ref)\n    this.app.backgroundColor = 'none'\n    this.staticApp = new lght.app(ref2,{constantRender:false})\n    this.staticApp.backgroundColor='none'\n    this.app.pixelDensity = pd\n    this.app.canvas.width = 850*pd\n    this.app.canvas.height = 650*pd\n    this.staticApp.pixelDensity = pd\n    this.staticApp.canvas.width = 850*pd\n    this.staticApp.canvas.height = 650*pd\n    console.log(this.staticApp.canvas)\n    this.staticApp.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:-10}).addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:this.app.canvas.height,clip:true,clipImageLink:'assets/wood.jpg'})\n    this.staticApp.turnFunctions(this.staticApp)\n    this.positionReference = {\n      leaderBoard:[700*pd,279*pd],\n      drawDeck:[300*pd,279*pd],\n      playDeck:[this.app.canvas.width/2 + 75*pd,279*pd],\n      playerDeck:[this.app.canvas.width/2,this.app.canvas.height-(handHeight/2)]\n    }\n\n    let drawable = false\n    let resolveFunction = ()=>{}\n    this.drawDeck = this.createDeck('blue 2',300*pd,279*pd)\n    this.drawDeck.addShape({kind:'text',text:'Draw Here',color:'black',y:85*pd,font:'35px Arial Bold'})\n    this.drawDeck.flip()\n    this.drawDeck.pressedEvent(()=>{\n      if(!drawable) return\n      drawable = false\n      resolveFunction()\n    })\n    this.awaitDraw = ()=>new Promise(r=>{\n            drawable = true\n            resolveFunction = (r)\n    })\n    this.cancelDraw = ()=>drawable = false\n\n    this.createHand()\n    this.createLeaderboard()\n    this.drawAnnouncement()\n    this.configureStartGameMessage()\n    this.configureUnoMessage()    \n    this.drawColorChoser()\n    this.drawSpecialInfo()\n    this.drawEmote()\n    this.drawAddBot()\n    this.drawEndGame()\n    this.drawSoundIcon()\n    this.initAnimation()\n  }\n\n  drawSoundIcon = ()=>{\n    const soundIcon = this.app.addObject({x:800*pd,y:50*pd})\n    const soundOn = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundon.png',display:true})\n    const soundOff = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundoff.png',display:false})\n    let sound = true\n    soundIcon.pressedEvent(()=>{\n      if(sound){\n        lght.muteAll()\n      }\n      else{\n        lght.unmuteAll()\n      }\n      soundOn.display = !soundOn.display\n      soundOff.display = !soundOff.display\n      soundIcon.updateVisual()\n      sound = !sound\n    })\n  }\n\n  drawEndGame(){\n    const endGame = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000000})\n    endGame.addShape({kind:'roundedRectangle',color:'#ffffed',w:700,h:200,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    const text = endGame.addShape({kind:'text',text:'Someone had won the game!',font:'40px Arial Bold',y:-10})\n    let resolveFunction = ()=>{}\n    const restartText = endGame.addShape({kind:'text',text:'New Game',font:'30px Arial Bold',color:'blue',y:50})\n    restartText.hoverEvent(()=>{\n      restartText.color = 'yellow'\n      endGame.updateVisual()\n    },()=>{\n      restartText.color = 'blue'\n      endGame.updateVisual()\n    })\n    restartText.pressedEvent(()=>resolveFunction())\n    this.activateEndGame = (name,func)=>{\n      text.text = `🎉 ${name} had won the game! 🎉`\n      endGame.updateVisual()\n      endGame.display = true\n      resolveFunction = func\n    }\n  }\n\n  drawTutorial(){\n    const tutorial = this.app.addStorage({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000,direction:'column',spacing:5,})\n    tutorial.addShape({kind:'roundedRectangle',color:'#ffffed',w:750,h:750,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    const x = tutorial.addShape({kind:'img',spriteLink:'assets/crossIcon.png',drawWidth:50,x:320,y:-320})\n    x.pressedEvent(()=>tutorial.display = false)\n    tutorial.model = [\n      '🎉 Welcome to One Online! 🎉',\n      'Some quick pointers:',\n      '👈 Use \"Copy Link\" from the left to automatically',\n      'get a link you can send to your friends!',\n      '👉 You can start the game when at least 2 players ',\n      '(including bots) are present. The panel on the left',\n      'show you who is in the game.',\n      '👇 You can use the emote panel below to piss', \n      'off your friends when playing.',\n      \"👏 And that is it! If you have any feedback\",\n      \"please 📧 me at vietlongali@gmail.com\",\n      \"Have fun!\",\n      \"Love this app? Buy me a beer on \",\n      'Venmo @LongTran123'\n    ]\n    tutorial.elementFunction = (content)=>{\n      const shape = tutorial.addShape({kind:'text',font:'30px Arial Bold',text:content})\n      shape.x = -340 + 0.5*shape.width\n      return shape\n    }\n    tutorial.updateToModel()\n    this.showTutorial = ()=>tutorial.display = true\n  }\n\n  drawAddBot(){\n    const addBot = this.app.addObject({display:false,x:this.positionReference.leaderBoard[0],y:this.positionReference.leaderBoard[1] + 120*pd})\n    const text = addBot.addShape({kind:'text',font:'35px Arial Bold',text:'Add Bot 🤖',})\n    let resolveFunction = ()=>{}\n    text.hoverEvent(()=>{\n      text.color = 'yellow'\n      addBot.updateVisual()\n    },()=>{\n      text.color = 'black'\n      addBot.updateVisual()\n    })\n    text.pressedEvent(()=>resolveFunction())\n    this.startAddBot = (func)=>{\n      resolveFunction = func\n      addBot.display = true\n    }\n    this.cancelAddBot = ()=>{\n      addBot.display = false\n    }\n  }\n\n  drawEmoteChooser(func){\n    const emoteChooser = this.app.addStorage({x:250*pd,y:470*pd,spacing:-15,zIndex:-1})\n    emoteChooser.addShape({kind:'roundedRectangle',color:'white',w:370*pd,h:40*pd,borderRadius:10*pd,border:true,borderColor:'black',borderWidth:5,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    emoteChooser.model = ['Emote:','💖','😡','👋','😂','😈','💩']\n    emoteChooser.elementFunction = (content,index)=>{\n      if(!index) return emoteChooser.addShape({kind:'text',text:content,font:'35px Arial Bold'})\n      const shape = emoteChooser.addShape({kind:'text',text:content,font:'35px Arial Bold'})\n      shape.hoverEvent(()=>{\n        shape.font = '50px Arial Bold';\n        emoteChooser.updateVisual()\n      },()=>{\n        shape.font = '30px Arial Bold';\n        emoteChooser.updateVisual()\n      })\n      shape.pressedEvent(()=>func(content))\n      return shape\n    }\n    emoteChooser.updateToModel()\n  }\n\n  drawEmote(){\n    const emoteText = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 170*pd,zIndex:1000})\n    const text = emoteText.addShape({kind:'text',text:\"Someone emote something\",font:'60px Arial Bold',color:'green'})\n    emoteText.addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:100,display:false})\n    let timeInterval = null\n    \n    this.emote = (name,color,emoji)=>{\n      clearInterval(timeInterval)\n      text.text = `${name} emote ${emoji}`\n      text.color = color\n      emoteText.updateVisual()\n      emoteText.display = true\n      text.opacity = 0\n      text.addAnimation('opacity',1,100,()=>{timeInterval = setTimeout(()=>{\n        text.addAnimation('opacity',0,100,()=>{\n          emoteText.display = false\n        })\n        },1000)\n      })\n    }\n  }\n\n  initAnimation(){\n    this.animationQueue = []\n    this.animationCallback = []\n    let animating = false\n    this.updateAnimation = async ()=>{\n      if(animating) return\n      if(!this.animationQueue.length) return\n      animating = true\n      const [playordraw,px,py,ec] = this.animationQueue.splice(0,1)[0]\n      const firstFunc = this.animationCallback.splice(0,1)[0]\n      //Animation: 0:play/draw 1: positionX, 2: positionY, 3: extra content\n      if(playordraw==='play'){\n        await this.animatePlay(ec,px,py)\n        animating = false\n        firstFunc()\n        this.updateAnimation()\n      }\n      else{\n        await this.animateDraw(px,py)\n        animating = false\n        firstFunc()\n        this.updateAnimation()\n      }\n    }\n    this.addToAnimationQueue = (queue,func)=>{\n      this.animationQueue.push(queue)\n      this.animationCallback.push(func)\n      this.updateAnimation()\n    }\n  }\n\n  animatePlayerPlay = (content)=>new Promise(r=>this.addToAnimationQueue(['play',...this.positionReference.playerDeck,content],r))\n  animatePlayerDraw = ()=>new Promise(r=>this.addToAnimationQueue(['draw',...this.positionReference.playerDeck],r))\n  animateLeaderboardDraw = ()=>new Promise(r=>this.addToAnimationQueue(['draw',...this.positionReference.leaderBoard],r))\n  animateLeaderboardPlay = (content)=> new Promise(r=>this.addToAnimationQueue(['play',...this.positionReference.leaderBoard,content],r))\n\n\n  drawSpecialInfo = ()=>{\n    const specialInfo = this.app.addObject({x:this.positionReference.playDeck[0],y:this.positionReference.playDeck[1] + 85*pd})\n    specialInfo.addShape({kind:'roundedRectangle',display:false,w:this.app.canvas.width,h:50*pd})\n    const text = specialInfo.addShape({kind:'text',font:'40px Arial Bold',text:''})\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    this.activateInfo = (color)=>{\n      console.log(color)\n      const tc = textColor[colors.indexOf(color)]\n      text.color = tc\n      text.text = color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')\n      specialInfo.updateVisual()\n    }\n    this.cancelInfo = ()=>{\n      text.text = ''\n      specialInfo.updateVisual()\n    }\n  }\n\n  animateDraw = (endX,endY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(null,true)\n    card.x = this.positionReference.drawDeck[0]\n    card.y = this.positionReference.drawDeck[1]\n    card.zIndex = -1\n    card.display = true\n    lght.playSound('./assets/draw.mp3')\n    card.addAnimation('x',endX,animationTime)\n    card.addAnimation('y',endY,animationTime)\n    card.shapes[0].addAnimation('scaleX',0.2,animationTime,r)\n    card.shapes[0].addAnimation('scaleY',0.2,animationTime,()=>card.kill())\n  })\n\n  animatePlay = (content,startX,startY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(content)\n    card.shapes[0].scaleX = 0.2\n    card.shapes[0].scaleY = 0.2\n    card.x = startX\n    card.y = startY\n    card.display = true\n    lght.playSound('./assets/deal.mp3')\n    card.addAnimation('x',this.playDeck.x,animationTime,()=>{\n      this.playDeck.kill()\n      this.playDeck=card\n    })\n    card.addAnimation('y',this.playDeck.y,animationTime,r)\n    card.shapes[0].addAnimation('scaleX',1,animationTime)\n    card.shapes[0].addAnimation('scaleY',1,animationTime)\n    if(content.match(/Draw 4/) || content.match(/Wild/)) this.activateInfo(content.split(' ')[0])\n    else this.cancelInfo()\n  })\n\n  createActionPanel(actionFunction){\n    const actionalPanel = this.app.addStorage({x:100*pd,y:279*pd,spacing:20,direction:'column'})\n    actionalPanel.addShape({kind:'roundedRectangle',w:120*pd,h:150*pd,borderRadius:10*pd,color:'#ffffed',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    actionalPanel.addShape({kind:'text',font:'32px Arial Bold',text:\"Actions:\",y:-60*pd})\n    actionalPanel.model = ['Copy Link','Leave Game','Restart Game']\n    actionalPanel.elementFunction = (link)=>{\n      const shape = actionalPanel.addShape({kind:'text',font:'30px Arial Bold',text:link})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        actionalPanel.updateVisual()\n      },()=>{\n        shape.color = 'black'\n        actionalPanel.updateVisual()\n      })\n      shape.pressedEvent(()=>actionFunction[link.split(' ').join('')]())\n      return shape\n    }\n    actionalPanel.updateToModel()\n  }\n\n  createLeaderboard(){\n    const leaderBoard = this.staticApp.addStorage({x:700*pd,y:279*pd,spacing:30,direction:'column'})\n    leaderBoard.addShape({kind:'roundedRectangle',w:150*pd,h:200*pd,borderRadius:10*pd,color:'#ffffed',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    leaderBoard.addShape({kind:'text',font:'32px Arial Bold',text:\"Turn Board:\",y:-80*pd})\n    const turnIndicator = this.app.addObject({display:false})\n    turnIndicator.addShape({x:85*pd,kind:'poly',specialPolygon:true,numberOfSide:3,color:'yellow',radius:10*pd,rotation:180})\n    let color = ['green','red','darkyellow','blue']\n    leaderBoard.elementFunction = (name,i)=>{\n      return leaderBoard.addShape({kind:'text',font:'30px Arial Bold',color:color[i],text:name})\n    }\n    \n    this.updateTurnIndicator = (turn)=>{\n      const {absoluteY,absoluteX} = leaderBoard.shapes[turn+2]\n      turnIndicator.x = absoluteX + 10*pd\n      turnIndicator.addAnimation('y',absoluteY,200,()=>{\n        turnIndicator.display = true\n        let numberOfLoops = 5\n        const fadeOut = ()=>{\n          numberOfLoops--\n          if(numberOfLoops<0) return\n          turnIndicator.addAnimation('opacity',0,500,fadeIn)\n        }\n        const fadeIn = ()=>turnIndicator.addAnimation('opacity',1,500,fadeOut)\n        fadeOut()\n      })\n    }\n    let cardElement = []\n    this.updateLeaderboard = (players,cardsAmount)=>{\n          cardElement.forEach(e=>e.kill())\n          cardElement = []\n          leaderBoard.model = players\n          leaderBoard.updateToModel()\n          leaderBoard.storageShapes.forEach((e,i)=>{\n            const {x,y} = e\n            cardElement.push(leaderBoard.addShape({kind:'text',text:`Cards: ${cardsAmount[i]}`,x,y:y+30,color:'grey',font:'20px Arial Bold'}))\n          })\n          this.staticApp.turnFunctions(this.staticApp)\n    }\n  }\n\n  createHand(){\n    let cards = []\n    let resolveFunction = ()=>{}\n    let verifyFunction = ()=>{}\n    let onSelect = false\n    const playerHand = this.app.addStorage({spacing:-70*pd,y:this.app.canvas.height-(handHeight/2),x:this.app.canvas.width/2,model:cards})\n    playerHand.addShape({kind:'rect',color:'brown',w:this.app.canvas.width,h:handHeight})\n    playerHand.elementFunction = (content)=>{\n      let position = []\n      if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n      else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n      else{\n        const color = content.split(' ')[0]\n        const action = content.split(' ').slice(1).join(' ')\n        position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n        if(parseInt(action)) position[1] = parseInt(action)\n        else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n      }\n      const shape = playerHand.addShape({borderOnly:true,y:30,clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*pd*1.2,h:145.5*pd*1.2,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n      shape.hoverEvent(()=>{\n        if(verifyFunction(content) && onSelect) shape.borderColor = 'yellow'\n        shape.borderWidth = 5*pd\n        shape.addAnimation('y',-100,200)\n      },()=>{\n        shape.borderColor = 'black'\n        shape.borderWidth = 1.25*pd\n        shape.addAnimation('y',30,200)\n      })\n      shape.pressedEvent(()=>{\n            if(!verifyFunction(content) || !onSelect) return\n            onSelect = false\n            shape.kill()\n            resolveFunction(content)\n      })\n      return shape\n    }\n    this.updateCards = (card)=>{\n      playerHand.model = card\n      playerHand.updateToModel()\n    }\n    this.awaitSelection = (vf)=>new Promise(r=>{\n      verifyFunction = vf\n      resolveFunction = r\n      onSelect = true\n    })\n    this.cancelSelection = ()=>onSelect = false\n  }\n\n  createDeck(content,x,y){\n    const deckCardOption = {kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black'}\n    const deck = this.staticApp.addObject({x,y})\n    deck.addShape({x:6*pd,y:-5*pd,...deckCardOption})\n    deck.addShape({x:4*pd,y:-3.75*pd,...deckCardOption})\n    deck.addShape({x:3*pd,y:-2.5*pd,...deckCardOption})\n    deck.addShape({x:1.5*pd,y:-1.25*pd,...deckCardOption})\n    const card = this.createCard(content)\n    card.x = x; card.y = y\n    card.shapes[0].shadow = null\n    card.shapes[0].border = false\n    card.display = true\n    card.updateVisual()\n    this.staticApp.turnFunctions(this.staticApp)\n    return card\n  }\n\n  createCard(content,back = false){\n    const card = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,display:false})\n    if(back){\n      card.addShape({kind:'roundedRectangle',borderOnly:true,color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:'assets/back.svg',borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n    }\n    else{let flipped = false\n    let position = []\n    if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n    else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n    else{\n      const color = content.split(' ')[0]\n      const action = content.split(' ').slice(1).join(' ')\n      position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n      if(parseInt(action)) position[1] = parseInt(action)\n      else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n    }\n    const shape = card.addShape({clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n  \n    const changeToBack =()=>{\n      shape.clipSpriteSheetX = null\n      shape.changeClipImage('assets/back.svg')\n    }\n\n    const changeToFront = ()=>{\n      shape.clipSpriteSheetX = position[1]\n      shape.changeClipImage(spriteLink)\n    }\n\n    const flipAnimation = (back=true)=>new Promise(r=>{\n      shape.addAnimation('scaleX',0,100,()=>{\n        if(back) changeToBack()\n        else changeToFront()\n        shape.addAnimation('scaleX',1,100,r)\n      })\n    })\n    card.flip = ()=>{\n      flipped = !flipped\n      return flipAnimation(flipped)\n    }}\n    return card\n  }\n\n  drawColorChoser = ()=>{\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    let choosingColor = false\n    let resolveFunction = ()=>{}\n    const colorChooser = this.app.addStorage({display:false,zIndex:1000,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,model:colors,spacing:25,direction:'column'})\n    colorChooser.addShape({kind:'roundedRectangle',w:200*pd,h:200*pd,borderRadius:10*pd,color:'white',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    colorChooser.addShape({kind:'text',font:'35px Arial Bold',text:'Choose a color:',y:-85*pd})\n    colorChooser.elementFunction = (color,i)=>{\n      const shape = colorChooser.addShape({kind:'text',color:textColor[i],font:'30px Arial Bold',text:color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        colorChooser.updateVisual()\n      },()=>{\n        shape.color = textColor[i]\n        colorChooser.updateVisual()\n      })\n      shape.pressedEvent(()=>{if(choosingColor){resolveFunction(color);colorChooser.display = false}})\n      return shape\n    }\n    colorChooser.updateToModel()\n    this.chooseColor = ()=>new Promise(r=>{\n      colorChooser.display = true\n      choosingColor = true\n      resolveFunction = r\n    })\n  }\n\n  drawAnnouncement(){\n      let animationDuration = 100\n\n      this.announcementQueue = []\n      this.announcmentPerpetual = []\n      this.onAnnouncementPerpetual = false\n      this.onAnnoucementChanged = false\n      \n      //Format: [text,color,time/perpetual,started]\n      this.announcement = this.app.addObject({x:this.app.canvas.width/2,y:50*pd,positionIndicator:false})\n      this.annoucementText = this.announcement.addShape({kind:'text',font:'100px Arial Bold',color:'orange',text:'',display:false})\n      this.announcement.addShape({kind:'roundedRectangle',w:this.app.canvas.width/2,h:100*pd,display:false})\n      const fadeOut = (func)=>this.annoucementText.addAnimation('opacity',0,animationDuration,()=>{this.annoucementText.display=false;if(func) func()})\n      const fadeIn = (funcDone)=>this.annoucementText.addAnimation('opacity',1,animationDuration,funcDone)\n      const fadeOutThenFadeIn = (func,funcDone)=> fadeOut(()=>{func();this.annoucementText.display = true; fadeIn(funcDone)})\n\n      this.updateAnnouncement = ()=>{\n          if(this.announcementQueue.length > 0 && !this.announcementQueue[0][3]){\n              let [text,color,time] = this.announcementQueue[0]\n              fadeOutThenFadeIn(()=>{\n                  this.annoucementText.text = text\n                  this.annoucementText.color = color\n                  setTimeout(()=>{this.announcementQueue.splice(0,1);this.updateAnnouncement();},time+animationDuration)\n              })\n              this.announcementQueue[0][3] = true\n          }\n          else if(this.announcementQueue.length >0) return\n          else if(!this.onAnnouncementPerpetual && this.annoucementText.display) return fadeOut()\n          else if(this.onAnnouncementPerpetual && ((!this.annoucementText.display) || this.onAnnoucementChanged)) return fadeOutThenFadeIn(()=>{\n              let [text,color] = this.announcmentPerpetual\n              this.annoucementText.text = text\n              this.annoucementText.color = color\n          })\n      }\n    }\n\n    changeAnnoucementPerpetual(text,color){\n      this.announcmentPerpetual = [text,color]\n      this.onAnnoucementChanged = true\n      this.updateAnnouncement()\n    }\n\n    addToAnnoucementQueue(text,color,time){\n      this.announcementQueue.push([text,color,time,false])\n      this.updateAnnouncement()\n    }\n\n    configureUnoMessage(){\n      const uno = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:1000})\n      const shape = uno.addShape({kind:'img',spriteLink:'./assets/polygon.svg',scaleX:0,scaleY:0,drawWidth:500})\n      uno.display = false\n      this.UNO = ()=>{\n        uno.display = true\n        shape.addAnimation('scaleX',1.5,400,()=>{\n          setTimeout(()=>{\n            shape.addAnimation('scaleX',0,100,()=>uno.display = false)\n            shape.addAnimation('scaleY',0,100)\n          },500)\n        })\n        shape.addAnimation('scaleY',1.5,400)\n      }\n    }\n\n    configureStartGameMessage(){\n      const startGameObject = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height-100*pd,display:false})\n      const text = startGameObject.addShape({kind:'text',text:'Start Game',color:'black',font:'50px Arial Bold'})\n      startGameObject.addShape({kind:'roundedRectangle',w:200,h:100,display:false})\n      let activated = false\n      let resolveFunction = ()=>{}\n      const fadeIn = ()=>{\n          if(!activated){\n              text.opacity = 1;\n          }\n          else text.addAnimation('opacity',1,1000,fadeOut)\n      }\n      const fadeOut = ()=>{\n          if(!activated){\n              text.opacity = 1\n          }\n          else text.addAnimation('opacity',0,1000,fadeIn)\n      }\n\n      startGameObject.pressedEvent(()=>{\n          activated = false\n          startGameObject.display = false\n          resolveFunction()\n      })\n\n      this.initiateStartGameMessage = (func=()=>{})=>{\n          if(!activated){\n              resolveFunction = func\n              activated = true\n              startGameObject.display = true\n              fadeOut()\n          }\n      }\n      this.turnOffStartGameMessage = ()=>{\n          startGameObject.display = false\n      }\n  }\n  kill = ()=>{\n    this.app.kill()\n    this.staticApp.kill()\n    lght.stopAll()\n  }\n}\n\nexport default webView","import lght from './lght/lght'\nconst pd = 2\nconst handHeight = 75*pd\nconst spriteLink = 'https://upload.wikimedia.org/wikipedia/commons/9/95/UNO_cards_deck.svg'\nconst mobileView = class{\n  constructor(ref,ref2,ref3){\n\n      \n    this.cardSpriteColumn = 14\n    this.cardSpriteRow = 8\n    this.cardSpriteReference = {\n      wild:[0,13],\n      Draw4:[4,13],\n      colorReference:['red','yellow','green','blue'],\n      otherReference:['Skip','Reverse','Draw 2']\n    }\n    this.app = new lght.app(ref)\n    this.app.backgroundColor = 'none'\n    this.staticApp = new lght.app(ref2,{constantRender:false})\n    this.staticApp.backgroundColor='none'\n    this.app.pixelDensity = pd\n    this.cardApp = new lght.app(ref3,{constantRender:true})\n    this.cardApp.pixelDensity = pd\n    this.cardApp.backgroundColor = 'none'\n    var ratio = window.devicePixelRatio || 1;\n      var w = window.screen.width * ratio;\n      var h = window.screen.height * ratio;\n      var clientWidth = function () {  return Math.max(window.innerWidth);};\n    var clientHeight = function () {  return Math.max(window.innerHeight);};\n    this.app.canvas.width = clientWidth()*pd\n    this.app.canvas.height = clientHeight()*pd\n    this.staticApp.pixelDensity = window.devicePixelRatio\n    this.staticApp.canvas.width = clientWidth()*pd\n    this.staticApp.canvas.height = clientHeight()*pd\n    this.staticApp.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:-10}).addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:this.app.canvas.height,clip:true,clipImageLink:'assets/woodMobile.jpg'})\n    this.staticApp.turnFunctions(this.staticApp)\n    this.positionReference = {\n      leaderBoard:[this.app.canvas.width/2,75],\n      drawDeck:[this.app.canvas.width/2 + 100*pd,this.app.canvas.height/2 - 40*pd],\n      playDeck:[this.app.canvas.width/2 - 100*pd,this.app.canvas.height/2 - 40*pd],\n      playerDeck:[this.app.canvas.width/2,this.app.canvas.height-(handHeight/2)]\n    }\n    let drawable = false\n    let resolveFunction = ()=>{}\n    this.drawDeck = this.createDeck('blue 2',this.app.canvas.width/2 + 100*pd,this.app.canvas.height/2 - 40*pd)\n    this.drawDeck.addShape({kind:'text',text:'Draw Here',color:'black',y:85*pd,font:'35px Futura'})\n    this.drawDeck.flip()\n    this.drawDeck.pressedEvent(()=>{\n      if(!drawable) return\n      drawable = false\n      resolveFunction()\n    })\n    this.awaitDraw = ()=>new Promise(r=>{\n            drawable = true\n            resolveFunction = (r)\n    })\n    this.cancelDraw = ()=>drawable = false\n\n    this.createHand()\n    this.createLeaderboard()\n    this.drawAnnouncement()\n    this.configureStartGameMessage()\n    this.configureUnoMessage()    \n    this.createActionPanel()\n    this.drawColorChoser()\n    this.drawSpecialInfo()\n    this.drawAddBot()\n    this.drawEndGame()\n    this.drawSoundIcon()\n  }\n\n  drawSoundIcon = ()=>{\n    const soundIcon = this.app.addObject({x:50*pd,y:this.app.canvas.height/2 + 80*pd})\n    const soundOn = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundon.png',display:true})\n    const soundOff = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundoff.png',display:false})\n    let sound = true\n    soundIcon.pressedEvent(()=>{\n      if(sound){\n        lght.muteAll()\n      }\n      else{\n        lght.unmuteAll()\n      }\n      soundOn.display = !soundOn.display\n      soundOff.display = !soundOff.display\n      soundIcon.updateVisual()\n      sound = !sound\n    })\n  }\n\n  drawEndGame(){\n    const endGame = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000000})\n    endGame.addShape({kind:'roundedRectangle',color:'#ffffed',w:700,h:400,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    const text = endGame.addShape({kind:'text',text:'Someone had won the game!',font:'50px Arial Bold',y:-20})\n    let resolveFunction = ()=>{}\n    const restartText = endGame.addShape({kind:'text',text:'New Game',font:'40px Arial Bold',color:'blue',y:70})\n    restartText.hoverEvent(()=>{\n      restartText.color = 'yellow'\n      endGame.updateVisual()\n    },()=>{\n      restartText.color = 'blue'\n      endGame.updateVisual()\n    })\n    restartText.pressedEvent(()=>resolveFunction())\n    this.activateEndGame = (name,func)=>{\n      text.text = `🎉 ${name} had won the game! 🎉`\n      endGame.updateVisual()\n      endGame.display = true\n      resolveFunction = func\n    }\n  }\n\n  drawTutorial(){\n    // const tutorial = this.app.addStorage({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000,direction:'column',spacing:5,})\n    // tutorial.addShape({kind:'roundedRectangle',color:'#ffffed',w:this.app.canvas.width,h:750,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    // const x = tutorial.addShape({kind:'img',spriteLink:'assets/crossIcon.png',drawWidth:50,x:320,y:-320})\n    // x.pressedEvent(()=>tutorial.display = false)\n    // tutorial.model = [\n    //   '🎉 Welcome to Uno Online! 🎉',\n    //   'Some quick pointers:',\n    //   '👈 Use \"Copy Link\" from the left to automatically',\n    //   'get a link you can send to your friends!',\n    //   '👉 You can start the game when at least 2 players ',\n    //   '(including bots) are present. The panel on the left',\n    //   'show you who is in the game.',\n    //   '👇 You can use the emote panel below to piss', \n    //   'off your friends when playing.',\n    //   \"👏 And that is it! If you have any feedback\",\n    //   \"please 📧 me at vietlongali@gmail.com\",\n    //   \"Have fun!\",\n    //   \"Love this app? Buy me a beer on \",\n    //   'Venmo @LongTran123'\n    // ]\n    // tutorial.elementFunction = (content)=>{\n    //   const shape = tutorial.addShape({kind:'text',font:'30px Arial Bold',text:content})\n    //   shape.x = -340 + 0.5*shape.width\n    //   return shape\n    // }\n    // tutorial.updateToModel()\n    // this.showTutorial = ()=>tutorial.display = true\n    this.showTutorial = ()=>{}\n  }\n\n  drawAddBot(){\n    const addBot = this.app.addObject({display:false,x:this.positionReference.leaderBoard[0],y:this.positionReference.leaderBoard[1] + 55*pd})\n    const text = addBot.addShape({kind:'text',font:'35px Arial Bold',text:'Add Bot 🤖',})\n    let resolveFunction = ()=>{}\n    text.hoverEvent(()=>{\n      text.color = 'yellow'\n      addBot.updateVisual()\n    },()=>{\n      text.color = 'black'\n      addBot.updateVisual()\n    })\n    text.pressedEvent(()=>resolveFunction())\n    this.startAddBot = (func)=>{\n      resolveFunction = func\n      addBot.display = true\n    }\n    this.cancelAddBot = ()=>{\n      addBot.display = false\n    }\n  }\n\n  drawEmoteChooser(func){\n    \n  }\n\n  animatePlayerPlay = (content)=>this.animatePlay(content,...this.positionReference.playerDeck)\n  animatePlayerDraw = ()=>this.animateDraw(...this.positionReference.playerDeck)\n  animateLeaderboardDraw = ()=>this.animateDraw(...this.positionReference.leaderBoard)\n  animateLeaderboardPlay = (content)=> this.animatePlay(content,...this.positionReference.leaderBoard)\n\n\n\n  drawSpecialInfo = ()=>{\n    const specialInfo = this.app.addObject({x:this.positionReference.playDeck[0],y:this.positionReference.playDeck[1] + 85*pd})\n    specialInfo.addShape({kind:'roundedRectangle',display:false,w:this.app.canvas.width,h:50*pd})\n    const text = specialInfo.addShape({kind:'text',font:'40px Futura',text:''})\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    this.activateInfo = (color)=>{\n      console.log(color)\n      const tc = textColor[colors.indexOf(color)]\n      text.color = tc\n      text.text = color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')\n      specialInfo.updateVisual()\n    }\n    this.cancelInfo = ()=>{\n      text.text = ''\n      specialInfo.updateVisual()\n    }\n  }\n\n  animateDraw = (endX,endY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(null,true)\n    card.x = this.positionReference.drawDeck[0]\n    card.y = this.positionReference.drawDeck[1]\n    card.zIndex = -1\n    card.display = true\n    lght.playSound('./assets/draw.mp3')\n    card.addAnimation('x',endX,animationTime)\n    card.addAnimation('y',endY,animationTime)\n    card.shapes[0].addAnimation('scaleX',0.2,animationTime,r)\n    card.shapes[0].addAnimation('scaleY',0.2,animationTime,()=>card.kill())\n  })\n\n  animatePlay = (content,startX,startY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(content)\n    card.shapes[0].scaleX = 0.2\n    card.shapes[0].scaleY = 0.2\n    card.x = startX\n    card.y = startY\n    card.display = true\n    lght.playSound('./assets/deal.mp3')\n    card.addAnimation('x',this.playDeck.x,animationTime,()=>{\n      this.playDeck.kill()\n      this.playDeck=card\n    })\n    card.addAnimation('y',this.playDeck.y,animationTime,r)\n    card.shapes[0].addAnimation('scaleX',1,animationTime)\n    card.shapes[0].addAnimation('scaleY',1,animationTime)\n    if(content.match(/Draw 4/) || content.match(/Wild/)) this.activateInfo(content.split(' ')[0])\n    else this.cancelInfo()\n  })\n\n  createActionPanel(actionFunction){\n    const actionalPanel = this.app.addStorage({x:this.app.canvas.width / 2,y:this.app.canvas.height/2 + 120*pd,spacing:50*pd})\n    actionalPanel.addShape({kind:'roundedRectangle',display:false,w:this.app.canvas.width,h:150*pd,borderRadius:10*pd,color:'#ffffed',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    actionalPanel.addShape({kind:'text',font:'40px Futura',text:\"Actions:\",y:-40*pd})\n    actionalPanel.model = ['Copy Link','Leave Game','Restart Game']\n    actionalPanel.elementFunction = (link)=>{\n      const shape = actionalPanel.addShape({kind:'text',font:'35px Futura',text:link})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        actionalPanel.updateVisual()\n      },()=>{\n        shape.color = 'black'\n        actionalPanel.updateVisual()\n      })\n      shape.pressedEvent(()=>actionFunction[link.split(' ').join('')]())\n      return shape\n    }\n    actionalPanel.updateToModel()\n  }\n\n  createLeaderboard(){\n    const leaderBoard = this.app.addStorage({x:this.app.canvas.width/2,y:75,spacing:0})\n    const turnIndicator = this.app.addObject({display:false})\n    turnIndicator.addShape({y:55*pd,kind:'poly',specialPolygon:true,numberOfSide:3,color:'yellow',radius:7*pd,rotation:90,border:true,borderColor:'black',borderWidth:7})\n    let colors = ['#90ee90','#ee2400','#D3D3D3','#00FFFF']\n    leaderBoard.elementFunction = (content,i)=>{\n          return leaderBoard.addShape({kind:'rect',color:colors[i],w:this.app.canvas.width/4,h:150,border:true,borderColor:'black',borderWidth:5,shadow:{blur:7,color:'black',offsetY:5}})\n      }\n      leaderBoard.model = ['text1','test2','txt2','t34']\n      leaderBoard.updateToModel()\n      let textShapes = []\n      this.updateLeaderboard = (players)=>{\n            leaderBoard.model = players\n            leaderBoard.updateToModel()\n            textShapes.forEach(e=>e.kill())\n            textShapes = []\n            players.forEach((name,i)=>{\n                  const {x,y} = leaderBoard.storageShapes[i]\n                  const text = leaderBoard.addShape({kind:'text',text:name,x,y:y-20,font:'30px Arial Bold',color:'black'})\n                  textShapes.push(text)\n            })\n            this.staticApp.turnFunctions(this.staticApp)\n      }\n      let timeOut = null\n      this.emote = (name,color,emoji)=>{\n        clearTimeout(timeOut)\n        const shape = textShapes.find(e=>e.text===name)\n\n        shape.addAnimation('opacity',0,100,()=>{\n          shape.text = emoji\n          shape.font = '40px Arial Bold'\n          leaderBoard.updateVisual()\n          shape.addAnimation('opacity',1,100,()=>{\n            timeOut = setTimeout(()=>{\n              shape.addAnimation('opacity',0,100,()=>{\n                shape.text = name\n                shape.font = '30px Arial Bold'\n                leaderBoard.updateVisual()\n                shape.addAnimation('opacity',1,100)\n              })\n            },1500)\n          })\n        })\n\n        \n      }\n    \n    this.updateTurnIndicator = (turn)=>{\n      const {absoluteY,absoluteX} = leaderBoard.shapes[turn]\n      turnIndicator.addAnimation('x',absoluteX,200,()=>{\n        turnIndicator.display = true\n        let numberOfLoops = 5\n        const fadeOut = ()=>{\n          numberOfLoops--\n          if(numberOfLoops<0) return\n          turnIndicator.addAnimation('opacity',0,500,fadeIn)\n        }\n        const fadeIn = ()=>turnIndicator.addAnimation('opacity',1,500,fadeOut)\n        fadeOut()\n      })\n    }\n  }\n\n  createHand(){\n    let cards = []\n    let resolveFunction = ()=>{}\n    let verifyFunction = ()=>{}\n    let onSelect = false\n    const playerHand = this.cardApp.addStorage({spacing:-70*pd,y:0})\n    playerHand.elementFunction = (content)=>{\n      let position = []\n      if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n      else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n      else{\n        const color = content.split(' ')[0]\n        const action = content.split(' ').slice(1).join(' ')\n        position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n        if(parseInt(action)) position[1] = parseInt(action)\n        else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n      }\n      const shape = playerHand.addShape({y:-37*pd,borderOnly:true,clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*1.2 *pd,h:145.5*1.2*pd,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black'})\n      shape.pressedEvent((x,y)=>{\n            if(!verifyFunction(content) || !onSelect) return\n            if(y<100) return\n            onSelect = false\n            shape.kill()\n            resolveFunction(content)\n      })\n      return shape\n    }\n    this.updateCards = (card)=>{\n      playerHand.model = card\n      this.cardApp.canvas.width = (playerHand.totalLength+300)\n      this.cardApp.canvas.style.width = `${(playerHand.totalLength+300)/pd}px`\n      playerHand.x = this.cardApp.canvas.width/2\n      const height = 0.5*145.5*1.2*pd + 40*pd\n      this.cardApp.canvas.height = height\n      playerHand.y = height\n      const clientWidth = 0.5*(window.innerWidth)\n      const handWidth = 0.5*((playerHand.totalLength+300)/pd)\n      if(handWidth<clientWidth) this.cardApp.canvas.style.left = `${clientWidth - handWidth}px`\n      if(handWidth > clientWidth){\n            this.cardApp.canvas.style.left = `0px`\n            document.getElementById('scrollable').scrollLeft = handWidth-clientWidth\n      }\n      playerHand.updateToModel()\n    }\n    this.awaitSelection = (vf)=>new Promise(r=>{\n      verifyFunction = vf\n      resolveFunction = r\n      onSelect = true\n    })\n    this.cancelSelection = ()=>onSelect = false\n  }\n\n  createDeck(content,x,y){\n    const deckCardOption = {kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black'}\n    const deck = this.staticApp.addObject({x,y})\n    deck.addShape({x:6*pd,y:-5*pd,...deckCardOption})\n    deck.addShape({x:4*pd,y:-3.75*pd,...deckCardOption})\n    deck.addShape({x:3*pd,y:-2.5*pd,...deckCardOption})\n    deck.addShape({x:1.5*pd,y:-1.25*pd,...deckCardOption})\n    const card = this.createCard(content)\n    card.x = x; card.y = y\n    card.shapes[0].shadow = null\n    card.shapes[0].border = false\n    card.display = true\n    card.updateVisual()\n    this.staticApp.turnFunctions(this.staticApp)\n    return card\n  }\n\n  createCard(content,back = false){\n    const card = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,display:false})\n    if(back){\n      card.addShape({kind:'roundedRectangle',borderOnly:true,color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:'assets/back.svg',borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n    }\n    else{let flipped = false\n    let position = []\n    if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n    else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n    else{\n      const color = content.split(' ')[0]\n      const action = content.split(' ').slice(1).join(' ')\n      position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n      if(parseInt(action)) position[1] = parseInt(action)\n      else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n    }\n    const shape = card.addShape({clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n  \n    const changeToBack =()=>{\n      shape.clipSpriteSheetX = null\n      shape.changeClipImage('assets/back.svg')\n    }\n\n    const changeToFront = ()=>{\n      shape.clipSpriteSheetX = position[1]\n      shape.changeClipImage(spriteLink)\n    }\n\n    const flipAnimation = (back=true)=>new Promise(r=>{\n      shape.addAnimation('scaleX',0,100,()=>{\n        if(back) changeToBack()\n        else changeToFront()\n        shape.addAnimation('scaleX',1,100,r)\n      })\n    })\n    card.flip = ()=>{\n      flipped = !flipped\n      return flipAnimation(flipped)\n    }}\n    return card\n  }\n\n  drawColorChoser = ()=>{\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    let choosingColor = false\n    let resolveFunction = ()=>{}\n    const colorChooser = this.app.addStorage({display:false,zIndex:1000,x:this.app.canvas.width/2,y:this.app.canvas.height/2,model:colors,spacing:25,direction:'column'})\n    colorChooser.addShape({kind:'roundedRectangle',w:300*pd,h:300*pd,borderRadius:10*pd,color:'white',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    colorChooser.addShape({kind:'text',font:'35px Futura',text:'Choose a color:',y:-105*pd})\n    colorChooser.elementFunction = (color,i)=>{\n      const shape = colorChooser.addShape({kind:'roundedRectangle',w:250,h:50,color:'white'})\n      shape.pressedEvent(()=>{if(choosingColor){resolveFunction(color);colorChooser.display = false}})\n      return shape\n    }\n    colorChooser.updateToModel()\n    colorChooser.storageShapes.forEach((e,i)=>{\n      const {x,y} = e\n      const color = colors[i]\n      const shape = colorChooser.addShape({x,y,kind:'text',color:textColor[i],font:'45px Futura',text:color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')})\n    })\n    this.chooseColor = ()=>new Promise(r=>{\n      colorChooser.display = true\n      choosingColor = true\n      resolveFunction = r\n    })\n  }\n\n  drawAnnouncement(){\n      let animationDuration = 100\n\n      this.announcementQueue = []\n      this.announcmentPerpetual = []\n      this.onAnnouncementPerpetual = false\n      this.onAnnoucementChanged = false\n      \n      //Format: [text,color,time/perpetual,started]\n      this.announcement = this.app.addObject({x:this.app.canvas.width/2,y:110*pd,positionIndicator:false})\n      this.annoucementText = this.announcement.addShape({kind:'text',font:'70px Futura',color:'orange',text:'',display:false})\n      this.announcement.addShape({kind:'roundedRectangle',w:this.app.canvas.width/2,h:100*pd,display:false})\n      const fadeOut = (func)=>this.annoucementText.addAnimation('opacity',0,animationDuration,()=>{this.annoucementText.display=false;if(func) func()})\n      const fadeIn = (funcDone)=>this.annoucementText.addAnimation('opacity',1,animationDuration,funcDone)\n      const fadeOutThenFadeIn = (func,funcDone)=> fadeOut(()=>{func();this.annoucementText.display = true; fadeIn(funcDone)})\n\n      this.updateAnnouncement = ()=>{\n          if(this.announcementQueue.length > 0 && !this.announcementQueue[0][3]){\n              let [text,color,time] = this.announcementQueue[0]\n              fadeOutThenFadeIn(()=>{\n                  this.annoucementText.text = text\n                  this.annoucementText.color = color\n                  setTimeout(()=>{this.announcementQueue.splice(0,1);this.updateAnnouncement();},time+animationDuration)\n              })\n              this.announcementQueue[0][3] = true\n          }\n          else if(this.announcementQueue.length >0) return\n          else if(!this.onAnnouncementPerpetual && this.annoucementText.display) return fadeOut()\n          else if(this.onAnnouncementPerpetual && ((!this.annoucementText.display) || this.onAnnoucementChanged)) return fadeOutThenFadeIn(()=>{\n              let [text,color] = this.announcmentPerpetual\n              this.annoucementText.text = text\n              this.annoucementText.color = color\n          })\n      }\n    }\n\n    changeAnnoucementPerpetual(text,color){\n      this.announcmentPerpetual = [text,color]\n      this.onAnnoucementChanged = true\n      this.updateAnnouncement()\n    }\n\n    addToAnnoucementQueue(text,color,time){\n      this.announcementQueue.push([text,color,time,false])\n      this.updateAnnouncement()\n    }\n\n    configureUnoMessage(){\n      const uno = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:1000})\n      const shape = uno.addShape({kind:'img',spriteLink:'./assets/polygon.svg',scaleX:0,scaleY:0})\n      uno.display = false\n      this.UNO = ()=>{\n        uno.display = true\n        shape.addAnimation('scaleX',1.5,400,()=>{\n          setTimeout(()=>{\n            shape.addAnimation('scaleX',0,100,()=>uno.display = false)\n            shape.addAnimation('scaleY',0,100)\n          },500)\n        })\n        shape.addAnimation('scaleY',1.5,400)\n      }\n    }\n\n    configureStartGameMessage(){\n      const startGameObject = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2+50*pd,display:false})\n      const text = startGameObject.addShape({kind:'text',text:'Start Game',color:'black',font:'50px Futura'})\n      startGameObject.addShape({kind:'roundedRectangle',w:200,h:100,display:false})\n      let activated = false\n      let resolveFunction = ()=>{}\n      const fadeIn = ()=>{\n          if(!activated){\n              text.opacity = 1;\n          }\n          else text.addAnimation('opacity',1,1000,fadeOut)\n      }\n      const fadeOut = ()=>{\n          if(!activated){\n              text.opacity = 1\n          }\n          else text.addAnimation('opacity',0,1000,fadeIn)\n      }\n\n      startGameObject.pressedEvent(()=>{\n          activated = false\n          startGameObject.display = false\n          resolveFunction()\n      })\n\n      this.initiateStartGameMessage = (func=()=>{})=>{\n          if(!activated){\n              resolveFunction = func\n              activated = true\n              startGameObject.display = true\n              fadeOut()\n          }\n      }\n      this.turnOffStartGameMessage = ()=>{\n          startGameObject.display = false\n      }\n  }\n  kill = ()=>{\n    this.app.kill()\n    this.staticApp.kill()\n    lght.stopAll()\n  }\n}\n\nexport default mobileView","import webView from './webView'\nimport mobileView from './mobileView'\nwindow.mobileCheck = function() {\nlet check = false;\n(function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\nreturn check;\n};\nlet View \nif(window.mobileCheck()) View = mobileView\nelse View = webView\nexport default View","import View from './view'\nconst io = require('socket.io-client')\nconst axios = require('axios')\nconst _ = require('lodash')\n\nconst Controller = async (canvasref,canvasstatic,token,userid,CopyLink,LeaveGame,canvasSpecial)=>{\n      let view = new View(canvasref,canvasstatic,canvasSpecial)\n      view.drawTutorial()\n      let model = null\n      const url = (process.env.NODE_ENV==='production')?'/':'http://localhost:4000'\n      const socket = io.connect(url,{query:{token}})\n      view.showTutorial()\n      const play = (card)=>{\n            socket.emit('Play Card',card)\n      }\n\n      const draw = ()=>{\n            socket.emit('Draw Card')\n      }\n\n      const emote = (emoji)=>{\n            socket.emit('Emote',emoji)\n      }\n\n      const sortHand = (hand)=>{\n            if(!hand.length) return []\n            const newhand = [...hand].map(e=>e.split(' ').slice(1).join(' '))\n            const color = hand[0].split(' ')[0]\n            const countable = newhand.filter(e=>parseInt(e)).map(e=>parseInt(e))\n            const notCountable = newhand.filter(e=>!parseInt(e))\n            const sorted = countable.sort((a,b)=>parseInt(a)-parseInt(b))\n            return [...sorted,...notCountable].map(e=>`${color} ${e}`)\n      }\n\n      const sortDeck = (deck,currentTopCard)=>{\n            const wild = deck.filter(e=>e.match(/Wild/) || e.match(/Draw 4/))\n            const red = sortHand(deck.filter(e=>e.match(/red/)))\n            const blue = sortHand(deck.filter(e=>e.match(/blue/)))\n            const green = sortHand(deck.filter(e=>e.match(/green/)))\n            const yellow = sortHand(deck.filter(e=>e.match(/yellow/)))\n            const obj ={red,blue,green,yellow}\n            let final = [...wild]\n            for(let color in obj){\n                  final = [...final,...obj[color]]\n            }\n            return final\n      }\n      \n      const addBot = ()=>socket.emit('Add Bot')\n\n      const verify = card=>{\n            if(card === 'Wild' || card==='Draw 4' || model.currentTopCard === 'Wild' || model.currentTopCard === 'Draw 4') return true\n            const color = model.currentTopCard.split(' ')[0]\n            const action = model.currentTopCard.split(' ').slice(1).join(' ')\n            const color2 = card.split(' ')[0]\n            const action2 = card.split(' ').slice(1).join(' ')\n            return ((color===color2) || (action===action2))\n      }\n\n      const update = async (m)=>{\n            let oldModel = (model)?_.cloneDeep(model):null\n            model = m\n            if(!model.inGame && model.players.length > 1 && !model.endGame) view.initiateStartGameMessage(()=>socket.emit('Start Game'))\n            else view.turnOffStartGameMessage()\n            if(!model.inGame && model.players.length < 4 && !model.endGame) view.startAddBot(addBot)\n            else view.cancelAddBot()\n            if(parseInt(model.onTurn) == userid){\n                  view.awaitSelection(verify).then((content)=>{view.cancelDraw();view.cancelSelection();play(content)})\n                  view.awaitDraw().then(()=>{view.cancelSelection();view.cancelDraw();draw()})\n            }\n            else{\n                  view.cancelDraw()\n                  view.cancelSelection()\n            }\n            //check with old model\n            if(oldModel){\n                  let newAnnoucements = model.feed.slice(oldModel.feed.length)\n                  let newDirectives = model.directives.slice(oldModel.directives.length)\n                  const players = model.players.map(e=>e.username)\n                  view.updateLeaderboard(players,model.players.map(e=>e.cards.length))\n                  if(newAnnoucements.length) newAnnoucements.forEach(message=>view.addToAnnoucementQueue(message,'black',500))\n                  if(newDirectives.length){\n                        for(let [code,user,otherinfo] of newDirectives){\n                              switch(code){\n                                    case 1:\n                                          if(user === userid){\n                                                await view.animatePlayerDraw()\n                                                const latestDraw = model.players[userid].cards.slice(oldModel.players[userid].cards.length)[0]\n                                                if(verify(latestDraw)) play(latestDraw)\n                                                else socket.emit('Pass Turn')  \n                                          }\n                                          else await view.animateLeaderboardDraw()\n                                          break;\n                                    case 2:\n                                          if(user === userid) for(let i = 0;i<4;i++)(await view.animatePlayerDraw())\n                                          else for(let i = 0;i<4;i++)(await view.animateLeaderboardDraw())\n                                          break;\n                                    case 3:\n                                          if(user === userid) for(let i = 0;i<2;i++)(await view.animatePlayerDraw())\n                                          else for(let i = 0;i<2;i++)(await view.animateLeaderboardDraw())\n                                          break;\n                                    case 4:\n                                          if(user===userid) await view.animatePlayerPlay(model.currentTopCard)\n                                          else await view.animateLeaderboardPlay(model.currentTopCard)\n                                          break;      \n                                    case 5:\n                                          await view.UNO()\n                                          break;\n                                    case 7:\n                                          const animateToPlayer = async ()=>{for(let i = 0;i<4;i++)(await view.animatePlayerDraw())}\n                                          const animateToLeaderBoard = async ()=>{for(let i = 0;i<4;i++)(await view.animateLeaderboardDraw())}\n                                          await animateToPlayer()\n                                          await animateToLeaderBoard()\n                                          break;\n                                    case 8:\n                                          for(let i = 0;i<otherinfo;i++){\n                                                if(user===userid) await view.animatePlayerPlay(model.currentTopCard)\n                                                else await view.animateLeaderboardPlay(model.currentTopCard)\n                                          }\n                                          break;\n                                    default:break;\n                              }\n                        }\n                  }\n                  if(parseInt(oldModel.onTurn) != parseInt(model.onTurn) && model.onTurn >= 0) view.updateTurnIndicator(parseInt(model.onTurn))\n                  const oldCard = oldModel.players[userid].cards\n                  const newCard = model.players[userid].cards\n                  if(JSON.stringify(oldCard) !== JSON.stringify(newCard))view.updateCards(sortDeck(model.players[userid].cards,model.currentTopCard))\n            }\n            else{\n                  const players = model.players.map(e=>e.username)\n                  view.updateLeaderboard(players,model.players.map(e=>e.cards.length))\n                  view.updateCards(sortDeck(model.players[userid].cards,model.currentTopCard))\n                  if(model.onTurn>=0)view.updateTurnIndicator(model.onTurn)\n                  view.playDeck = view.createDeck(model.currentTopCard,...view.positionReference.playDeck)\n            }\n      }\n\n      socket.on('Update',update)\n      socket.on('New Game',(m)=>{\n            view.kill()\n            view = new View(canvasref,canvasstatic,canvasSpecial)\n            view.createActionPanel({\n                  CopyLink,\n                  LeaveGame,\n                  RestartGame:()=>socket.emit('Restart Game')\n            })\n            view.drawEmoteChooser(emote)\n            model = null\n            update(m)\n      })\n\n      socket.on('End Game',(winner)=>{\n            view.activateEndGame(model.players[winner].username,()=>socket.emit('Restart Game'))\n      })\n\n      socket.on('Choose Color',async ()=>{\n            const color = await view.chooseColor()\n            socket.emit('Choose Color',color)\n      })\n\n      socket.on('Error',(error)=>console.log(error))\n      socket.on('Emote',({emoji,userid})=>{\n            const colorCode = ['green','red','black','blue']\n            view.emote(model.players[userid].username,colorCode[userid],emoji)\n      })\n      socket.on('Delete Inactive',()=>view.changeAnnoucementPerpetual('This game was delete due to inactivity'))\n      socket.on('Critical Error',LeaveGame)\n      view.createActionPanel({\n            CopyLink,\n            LeaveGame,\n            RestartGame:()=>socket.emit('Restart Game')\n      })\n      view.drawEmoteChooser(emote)\n      console.log = ()=>{}\n}\n\nexport default Controller","import React, { useEffect, useState, useRef } from 'react'\nimport {connect} from 'react-redux'\nimport Controller from '../controller'\nimport cogoToast from 'cogo-toast'\nimport mobileView from '../mobileView'\n\nconst Game = connect(({token,playerid,id})=>({token,playerid,id}),dispatch=>({dispatch}))(({token,playerid,id,dispatch})=>{\n    const ref = useRef()\n    const ref2 = useRef()\n    const ref3 = useRef()\n    \n    const copyToClipboard = str => {\n        const el = document.createElement('textarea');\n        el.value = str;\n        document.body.appendChild(el);\n        el.select();\n        document.execCommand('copy');\n        document.body.removeChild(el);\n        cogoToast.success('Copied!')\n    };\n    const url = `http://onegame.us/join/${id}`\n\n    useEffect(()=>{\n      Controller(ref.current,ref2.current,token,playerid,()=>copyToClipboard(url),()=>dispatch({type:'LOG_OUT'}),ref3.current)\n    },[])\n    return (\n      <div className=\"App\">\n        {!window.mobileCheck()&&\n          <>\n          <div className='d-flex game' style={{alignItems:'center',height:'100%',width:'100%',position:'absolute'}}>\n            <canvas ref={ref}  style={{width:850,height:650,margin:'auto',backgroundColor:'transparent'}}></canvas>      \n          </div>\n          <div className='d-flex game2' style={{alignItems:'center',height:'100%',width:'100%',position:'absolute'}}>\n            <canvas ref={ref2} style={{width:850,height:650,margin:'auto',backgroundColor:'transparent'}}></canvas>      \n          </div>\n          </>\n        }\n        {window.mobileCheck()&&\n          <div className='position-absolute' id='scrollable' style={{overflowX:'auto',overflowY:'visible',position:'absolute',top:'0px',left:'0px',width:'100%',height:'100%'}}>\n            <canvas ref={ref}  style={{zIndex:'100',position:'fixed',left:0,top:0,width:'100%',height:'100%',margin:'auto',backgroundColor:'transparent'}}></canvas>      \n            <canvas ref={ref2} style={{zIndex:'0',position:'fixed',left:0,top:0,width:'100%',height:'100%',margin:'auto'}}></canvas>      \n            <canvas ref={ref3} style={{zIndex:'1000',margin:'auto',position:'absolute',bottom:0,left:0}}></canvas>      \n          </div>\n        }\n      </div>\n    );\n})\nexport default Game","import React, { useState, useEffect } from 'react'\nimport BarLoader from 'react-spinners/BarLoader'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Formik,Form} from 'formik'\nimport Logo from '../9.svg'\nimport Polygon from '../polygon.svg'\nconst {join} = require('../api')\n\nconst Join = (connect(({tempJoinId})=>({tempJoinId}),dispatch=>({dispatch}))(({dispatch,changeHistory,tempJoinId})=>{\n    const [loading,setLoading] = useState(false)\n\n\n    useEffect(()=>{\n        console.log(tempJoinId)\n        if(!tempJoinId){\n            dispatch({type:'JOINED'})\n        }\n    },[])\n\n    const joinGame = async ({username})=>{\n        setLoading(true)\n        console.log(tempJoinId)\n        const {data} = await join(tempJoinId,username)\n        const {token,id,playerid} = data\n        console.log(data)\n        dispatch({type:'JOIN_LOG_IN',token,id,playerid})\n        setLoading(false)\n    }\n\n    return (\n        <div className='container'>\n            <div className={`row ${(window.mobileCheck())?'':'w-75'} mx-auto`} style={{maxWidth:(window.mobileCheck())?100000:400}}>\n            {!loading &&\n                <div className='text-center w-100 mx-auto' style={{fontFamily:'Arial Bold'}}>\n                    <div className='mt-5 mb-5 floating'>\n                      <img src={Polygon} style={{width:300,margin:'auto',width:'200px'}} className=''/>\n                    </div>\n                    <div><i>One</i> is an UNO-like card game that is completely playable online.</div>\n                    <div className='text-secondary'>Made by Long Tran</div>\n                    <div className='pt-5 pb-5 mt-3' style={{boxShadow:'0px 4px 16px rgba(31, 31, 31, 0.16)',border:'1px solid black',borderRadius:'15px',backgroundColor:'white'}}>\n                        <Formik initialValues={{username:''}} onSubmit={joinGame}>\n                            {({handleSubmit,handleChange,handleBlur})=>(\n                                <Form>\n                                    <div className = 'container w-50'>\n                                        <label className='font-weight-bold'>Nickname</label>\n                                        <input type='text' name='username' className='form-control' onChange={handleChange} onBlur={handleBlur}/>\n                                        <button className='btn btn-success mt-4' onSubmit={handleSubmit}>Join game!</button>\n                                    </div>\n                                </Form>\n                            )}                            \n                        </Formik>\n                    </div>\n                </div>\n            }\n            </div>\n            <div style={{position:'absolute',top:'50%',width:'100%'}}>\n                <BarLoader color='blue' loading={loading} width='200px' css={{margin:'auto'}}/>\n            </div>\n        </div>\n    )\n}))\nexport default Join","import React, { useState } from 'react'\nimport BarLoader from 'react-spinners/BarLoader'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Formik,Form, Field} from 'formik'\nimport Polygon from '../polygon.svg'\nimport Title from '../title.svg'\nimport Logo from '../9.svg'\nconst {create} = require('../api')\n\nfunction Checkbox(props) {\n    return (\n      <Field name={props.name}>\n        {({ field, form }) => (\n        <div className='ml-n3'> \n          <input \n          className='custom-control-input'\n          type=\"checkbox\"\n          {...props}\n          checked={field.value.includes(props.value)}\n          onChange={() => {\n            if (field.value.includes(props.value)) {\n              const nextValue = field.value.filter(\n                value => value !== props.value\n              );\n              form.setFieldValue(props.name, nextValue);\n            } else {\n              const nextValue = field.value.concat(props.value);\n              form.setFieldValue(props.name, nextValue);\n            }\n          }}\n        />\n        <label className='ml-3'>\n            {props.displayname}\n          </label>\n        </div>\n        )}\n      </Field>\n    );\n  }\n\nconst Landing = withRouter(connect(null,dispatch=>({dispatch}))(({dispatch,history})=>{\n    const [loading,setLoading] = useState(false)\n\n    const createGame = async ({username,houseRule})=>{\n        setLoading(true)\n        const {data} = await create(username,houseRule)\n        const {token,id,playerid} = data\n        dispatch({type:'LOG_IN',token,id,playerid})\n        setLoading(false)\n    }\n\n    return (\n        <div className='container background'>\n            <div className={`row ${(window.mobileCheck())?\"\":'w-75'} mx-auto`} style={{maxWidth:(window.mobileCheck())?100000:400,fontFamily:'Arial Bold'}}>\n            {!loading &&\n                <div className='text-center mx-auto w-100 position-relative'>\n                    <div className='mt-5 mb-5 floating'>\n                      <img src={Polygon} style={{width:300,margin:'auto',width:'200px'}} className=''/>\n                    </div>\n                    <div><i>One</i> is an UNO-like card game that is completely playable online.</div>\n                    <div className='text-secondary'>Made by Long Tran</div>\n                    <div className='pt-4 pb-4 mt-3' style={{boxShadow:'0px 4px 16px rgba(31, 31, 31, 0.16)',border:'1px solid black',backgroundColor:'white',borderRadius:'15px'}}>\n                        <Formik initialValues={{username:'',houseRule:[]}} onSubmit={createGame}>\n                            {({handleSubmit,handleChange,handleBlur,values})=>(\n                                <Form>\n                                    <div className = 'container form-group'>\n                                        <div className='w-50 mx-auto'>\n                                            <label className='font-weight-bold '>Nickname:</label>\n                                            <input type='username' name='username' className='form-control' onChange={handleChange} onBlur={handleBlur}/>\n                                        </div>\n                                        <label className='font-weight-bold mt-3'>House Rules:</label>\n                                        <div className=' custom-control custom-checkbox mt-n1'>\n                                            <Checkbox value='tripledouble' name='houseRule' displayname='Allow triple/double' className=''/>\n                                        </div>\n                                        <button className='btn btn-success mt-4' onSubmit={handleSubmit}>Create game!</button>\n                                        \n                                    </div>\n                                </Form>\n                            )}                            \n                        </Formik>\n                    </div>\n                    <p className='text-secondary mt-2'>Joining a friend's game? Ask them for a personal link!</p>\n                </div>\n            }\n            \n            </div>\n            <div style={{position:'absolute',top:'50%',width:'100%'}}>\n                <BarLoader color='blue' loading={loading} width='200px' css={{margin:'auto'}}/>\n            </div>\n        </div>\n    )\n}))\nexport default Landing","import React,{useEffect} from 'react';\nimport './App.css';\nimport {Provider,connect} from 'react-redux'\nimport {BrowserRouter as Router,Switch,Link,Route,useLocation,withRouter} from 'react-router-dom'\nimport Store from './redux'\nimport Game from './Page/Game';\nimport Join from './Page/Join';\nimport Landing from './Page/Landing';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport lght from './lght/lght'\n\nwindow.mobileCheck = function() {\n  let check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n};\n\nconst Content = withRouter(connect(({loggedIn,joined})=>({loggedIn,joined}),(dispatch)=>({dispatch}))(({loggedIn,dispatch,history,joined})=>{\n    const {pathname} = window.location\n    useEffect(()=>{\n      lght.stopAll()\n      if(pathname.match(/join/) && !joined){\n        const tempJoinId = pathname.split('/')[2]\n        console.log(tempJoinId)\n        dispatch({type:'LOG_OUT_WITH_TEMP_JOIN',tempJoinId})\n        history.push('/join')\n      }\n      else if(loggedIn){\n        console.log('hello')\n        if(!pathname.match(/game/)) history.push('/game')\n      }\n      else history.push('/')\n    },[loggedIn,joined])\n\n    return(\n      <>\n      <Switch>\n        <Route path='/game' exact component={Game}/>\n        <Route path='/join' exact>\n          <Join changeHistory={history}/>\n        </Route>\n        <Route path='/'exact component={Landing}/>\n      </Switch>\n      <div className='backgrounddiv'></div>\n      </>\n    )\n}))\n\nfunction App() {\n  return (\n    <Provider store={Store}>\n      <Router>\n        <Content/>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/polygon.8ae264e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/9.f703b21f.svg\";","const axios = require('axios')\nlet url = (process.env.NODE_ENV === 'production')?'/':'http://localhost:4000'\nconst baseAPI = axios.create({baseURL:url})\nconst join = (id,username)=>baseAPI.post('join',{id,username})\nconst create = (username,houseRule)=>baseAPI.post('create',{username,houseRule})\n\nmodule.exports = {join,create}"],"sourceRoot":""}